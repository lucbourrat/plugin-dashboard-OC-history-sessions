{"libs":[],"settings":{"badgeCounter":false,"editorConfig":{"enableBasicAutocompletion":false,"enableLiveAutocompletion":true,"enableSnippets":true,"fontSize":15,"highlightActiveLine":false,"keyboardHandler":false,"showPrintMargin":false,"tabSize":4,"theme":"ace/theme/monokai","useSoftTabs":false,"useWorker":true,"wrap":true},"supportBtn":false,"themesFolder":["chrome","clouds","dawn","dracula","dreamweaver","eclipse","github","monokai","solarized_dark","solarized_light","textmate","tomorrow","tomorrow_night","twilight"],"version":8},"sites":[{"compiledCss":".toolBarSection {justify-content: space-around!important; margin-top: 5px!important; margin-bottom: 15px!important; display: flex !important;}#monthSelect, #yearSelect {font-family: Montserrat!important; font-weight: 700!important; line-height: 1.5rem!important; border: none!important; background-color: rgb(116, 81, 235)!important; color: white!important; border-radius: 4px!important; padding: 0px 11px!important;}#monthSelect .monthSelectOption, #yearSelect .yearSelectOption {font-family: Montserrat!important; font-weight: 500!important; line-height: 1.5rem!important;}.toolBarSectionButton {cursor: pointer!important; box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px !important; transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms !important; font-family: Montserrat !important; font-weight: 700 !important; line-height: 1.5rem !important; border: none !important; background-color: rgb(116, 81, 235) !important; color: white !important; border-radius: 10px !important; padding: 9px 16px !important;}.toolBarSectionButton:hover {box-shadow: rgba(0, 0, 0, 0.26) 0px 6px 6px 0px, rgba(0, 0, 0, 0.19) 0px 10px 20px 0px!important;}select.toolBarSectionButton {height: 42px!important;}#toolBarSectionExtra {font-family: Montserrat!important; font-weight: 700!important; line-height: 1.5rem!important; border: none!important; background-color: rgb(116, 81, 235)!important; color: white!important; border-radius: 4px!important; padding: 0px 11px!important;}#toolBarSectionExtra option {font-family: Montserrat!important; font-weight: 500!important; line-height: 1.5rem!important;}.extraDefaultOptionDeleteBDD {cursor: pointer!important;}.isItAnAF {order: 5!important;}.studentListed .switch-handle::before {background: -webkit-linear-gradient(top, red, rgb(255, 255, 255) 25px)!important;}.studentListedAlreadyInBDD .switch-handle::before {background: -webkit-linear-gradient(top, green, rgb(255, 255, 255) 25px)!important;}#RecapTabsAreaExit, #studentsListTabsAreaExit, #statsAreaExit, #formationDateAreaExit {width: 38px!important; height: 38px!important; background-color: rgb(116, 81, 235)!important; border-radius: 21px!important; align-self: flex-end!important; box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px!important; cursor: pointer!important; color: rgb(255, 255, 255)!important; font-weight: 500!important; font-size: 21px!important; font-family: Arial, sans-serif!important; display: flex!important; justify-content: center!important; align-items: center!important;}#RecapTabsAreaExit:hover {box-shadow: rgba(0, 0, 0, 0.26) 0px 6px 6px 0px, rgba(0, 0, 0, 0.19) 0px 10px 20px 0px!important;}#RecapTabsArea .tabName {text-align: left!important;}#RecapTabsArea .recaptTab {width: 50%!important; margin-bottom: 70px!important;}div#RecapTabsArea {display: flex!important; flex-direction: column!important; align-items: center!important; margin-top: 70px!important;}#RecapTabsArea .data-td {text-align: center!important;}#RecapTabsArea th {text-align: center!important;}#RecapTabsArea .data-td:hover {text-align: center!important; border-radius: 12px!important; background-color: rgb(198, 186, 237)!important; cursor: pointer!important;}#RecapTabsArea span.price {font-weight: 100!important; font-size: 11px!important;}#RecapTabsArea .total, #RecapTabsArea .toto, #RecapTabsArea .bigToto {font-weight: 100!important; font-size: 13px!important; text-align: right!important;}#RecapTabsArea .bigToto {font-size: 18px !important;}.sessionsDetailsDiv {margin-top: 70px!important;}.btnStopVoirPlusAuto {position: fixed!important; top: 35%!important; right: 39%!important; z-index: 999999999!important; background-color: rgb(116, 81, 235)!important; border-radius: 100px!important; padding: 23px!important; color: white!important; font-size: 26px!important; box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px!important;}.btnStopVoirPlusAuto:hover {box-shadow: rgba(0, 0, 0, 0.26) 0px 6px 6px 0px, rgba(0, 0, 0, 0.19) 0px 10px 20px 0px!important; cursor: pointer!important;}.databaseResetConfirmationDiv {position: fixed!important; top: 35%!important; right: 39%!important; z-index: 999999999!important; display: flex!important; flex-direction: column!important; background-color: rgb(170, 170, 170)!important; border-radius: 20px!important;}.databaseResetConfirmationP {margin: 32px 20px 50px!important; color: white!important; font-size: 20px!important;}.databaseResetConfirmationBtnContainer {display: flex!important; justify-content: space-around!important; margin-bottom: 35px!important;}.databaseResetConfirmationBtn {background-color: rgb(116, 81, 235)!important; border-radius: 100px!important; padding: 23px!important; color: white!important; font-size: 26px!important; box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px!important; width: 100px!important; text-align: center!important;}.databaseResetConfirmationBtn:hover {box-shadow: rgba(0, 0, 0, 0.26) 0px 6px 6px 0px, rgba(0, 0, 0, 0.19) 0px 10px 20px 0px!important; cursor: pointer!important;}.studentsListContainer {display: flex!important;}.studentsList {width: 50%!important;}#studentsListTabsArea {display: flex!important; flex-direction: column!important; margin-top: 50px!important;}#statsArea {display: flex!important; flex-direction: column!important; margin-top: 50px!important;}.statsDiv {display: flex!important;}.statsDiv p {line-height: 48px!important; padding-top: 12px!important; padding-left: 10px!important; font-weight: 600!important; font-size: 20px!important;}#formationDateArea {display: flex!important; flex-direction: column!important; margin-top: 50px!important;}#formationDateArea .studentsContainer {display: flex!important;}#formationDateArea .studentsContainerColumn {display: flex!important; flex-direction: column!important; margin-bottom: 45px!important;}#formationDateArea .studentsDateColumn {margin-left: 60px!important;}.monthSection {text-align: right!important; font-weight: 600!important; height: 26px!important; margin-bottom: 17px!important; margin-top: 12px!important;}.yearSection {text-align: right!important; font-weight: 600!important; height: 26px!important; margin-bottom: 17px!important; margin-top: 100px!important; font-size: 34px!important;}.webapp-0-webapp149, .webapp-0-webapp155 {grid-template-columns: 11rem 0.7fr 1fr 5.5rem 10rem 7rem !important;}.isItAnAF {z-index: 42020!important;}.switch {position: relative!important; display: block!important; vertical-align: top!important; width: 100px!important; height: 30px!important; padding: 3px!important; margin: 0px 10px 10px 0px!important; background: -webkit-linear-gradient(top, rgb(238, 238, 238), rgb(255, 255, 255) 25px)!important; border-radius: 18px!important; box-shadow: white 0px -1px inset, rgba(0, 0, 0, 0.05) 0px 1px 1px inset!important; cursor: pointer!important; box-sizing: content-box!important; z-index: 42030!important;}.switch-input {position: absolute!important; top: 0px!important; left: 0px!important; opacity: 0!important; box-sizing: content-box!important;}.switch-label {position: relative!important; display: block!important; height: inherit!important; font-size: 10px!important; text-transform: uppercase!important; background: rgb(236, 238, 239)!important; border-radius: inherit!important; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 2px inset, rgba(0, 0, 0, 0.15) 0px 0px 2px inset!important; box-sizing: content-box!important; z-index: 42040!important;}.switch-label::before, .switch-label::after {position: absolute!important; top: 50%!important; margin-top: -0.5em!important; line-height: 1!important; transition: inherit!important; box-sizing: content-box!important;}.switch-label::before {content: attr(data-off)!important; right: 11px!important; color: rgb(170, 170, 170)!important; text-shadow: rgba(255, 255, 255, 0.5) 0px 1px!important;}.switch-label::after {content: attr(data-on)!important; left: 11px!important; color: rgb(255, 255, 255)!important; text-shadow: rgba(0, 0, 0, 0.2) 0px 1px!important; opacity: 0!important;}.switch-input:checked ~ .switch-label {background: rgb(225, 180, 43)!important; box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px inset, rgba(0, 0, 0, 0.2) 0px 0px 3px inset!important;}.switch-input:checked ~ .switch-label::before {opacity: 0!important;}.switch-input:checked ~ .switch-label::after {opacity: 1!important;}.switch-handle {position: absolute!important; top: 4px!important; left: 4px!important; width: 28px!important; height: 28px!important; background: -webkit-linear-gradient(top, rgb(255, 255, 255) 40%, rgb(240, 240, 240))!important; border-radius: 100%!important; box-shadow: rgba(0, 0, 0, 0.2) 1px 1px 5px!important; z-index: 42050!important;}.switch-handle::before {content: \"\"!important; position: absolute!important; top: 50%!important; left: 50%!important; margin: -6px 0px 0px -6px!important; width: 12px!important; height: 12px!important; background: -webkit-linear-gradient(top, rgb(238, 238, 238), rgb(255, 255, 255))!important; border-radius: 6px!important; box-shadow: rgba(0, 0, 0, 0.02) 0px 1px inset!important;}.switch-input:checked ~ .switch-handle {left: 74px!important; box-shadow: rgba(0, 0, 0, 0.2) -1px 1px 5px!important;}.switch-label, .switch-handle {transition: all 0.3s ease 0s!important;}","css":".toolBarSection {\r\n\tdisplay: flex !important;\r\n\tjustify-content: space-around;\r\n\tmargin-top: 5px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n\r\n/*Display select dropdown*/\r\n\r\n#monthSelect,\r\n#yearSelect {\r\n\tfont-family: Montserrat;\r\n\tfont-weight: 700;\r\n    line-height: 1.5rem;\r\n    border: none;\r\n    background-color: #7451eb;\r\n    color: white;\r\n    border-radius: 4px;\r\n    padding: 0 11px;\r\n}\r\n\r\n#monthSelect .monthSelectOption,\r\n#yearSelect .yearSelectOption {\r\n\tfont-family: Montserrat;\r\n\tfont-weight: 500;\r\n    line-height: 1.5rem;\r\n}\r\n\r\n/*Display toolBarExtra*/\r\n\r\n.toolBarSectionButton {\r\n\tcolor: #fff !important;\r\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%) !important;\r\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms !important;\r\n    background-color: #7451eb !important;\r\n\tfont-family: Montserrat !important;\r\n\tfont-weight: 700 !important;\r\n    line-height: 1.5rem !important;\r\n    border: none !important;\r\n    background-color: #7451eb !important;\r\n    color: white !important;\r\n    border-radius: 10px !important;\r\n\tpadding: 9px 16px !important;\r\n\tcursor: pointer;\r\n}\r\n.toolBarSectionButton:hover {\r\n\tbox-shadow: 0 6px 6px 0 rgb(0 0 0 / 26%), 0 10px 20px 0 rgb(0 0 0 / 19%);\r\n}\r\nselect.toolBarSectionButton {\r\n\theight: 42px;\r\n}\r\n#toolBarSectionExtra {\r\n\tfont-family: Montserrat;\r\n\tfont-weight: 700;\r\n    line-height: 1.5rem;\r\n    border: none;\r\n    background-color: #7451eb;\r\n    color: white;\r\n    border-radius: 4px;\r\n\tpadding: 0 11px;\r\n}\r\n#toolBarSectionExtra option {\r\n\tfont-family: Montserrat;\r\n\tfont-weight: 500;\r\n    line-height: 1.5rem;\r\n}\r\n\r\n.extraDefaultOptionDeleteBDD {\r\n    cursor: pointer;\r\n}\r\n\r\n/*Display students list */\r\n\r\n.isItAnAF {\r\n\torder: 5;\r\n}\r\n\r\n.studentListed .switch-handle:before {\r\n\tbackground: linear-gradient(to bottom, red, #FFFFFF 25px);\r\n\tbackground-image: -webkit-linear-gradient(top, red, #FFFFFF 25px);\r\n}\r\n\r\n.studentListedAlreadyInBDD .switch-handle:before {\r\n\tbackground: linear-gradient(to bottom, green, #FFFFFF 25px);\r\n\tbackground-image: -webkit-linear-gradient(top, green, #FFFFFF 25px);\r\n}\r\n\r\n\r\n/*Display tab param*/\r\n\r\n#RecapTabsAreaExit,\r\n#studentsListTabsAreaExit,\r\n#statsAreaExit,\r\n#formationDateAreaExit  {\r\n\twidth: 38px;\r\n\theight: 38px;\r\n    background-color: #7451eb;\r\n    border-radius: 21px;\r\n    align-self: flex-end;\r\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\r\n    cursor: pointer;\r\n    \r\n\tcolor: #FFFFFF;\r\n\tfont-weight: 500;\r\n\tfont-size: 21px;\r\n\tfont-family: Arial, sans-serif;\r\n\tdisplay: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n#RecapTabsAreaExit:hover {\r\n\tbox-shadow: 0 6px 6px 0 rgb(0 0 0 / 26%), 0 10px 20px 0 rgb(0 0 0 / 19%);\r\n}\r\n\r\n#RecapTabsArea .tabName {\r\n\ttext-align: left;\r\n}\r\n\r\n#RecapTabsArea .recaptTab {\r\n\twidth: 50%;\r\n\tmargin-bottom: 70px;\r\n}\r\n\r\ndiv#RecapTabsArea {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    margin-top: 70px;\r\n}\r\n\r\n#RecapTabsArea .data-td {\r\n    text-align: center;\r\n}\r\n\r\n#RecapTabsArea th {\r\n    text-align: center;\r\n    \r\n}\r\n\r\n#RecapTabsArea .data-td:hover {\r\n    text-align: center;\r\n    border-radius: 12px;\r\n    background-color: #c6baed;\r\n    cursor: pointer;\r\n}\r\n\r\n/*Display tab price*/\r\n\r\n#RecapTabsArea span.price {\r\n    font-weight: 100;\r\n    font-size: 11px;\r\n}\r\n\r\n#RecapTabsArea .total,\r\n#RecapTabsArea .toto,\r\n#RecapTabsArea .bigToto {\r\n    font-weight: 100;\r\n    font-size: 13px;\r\n    text-align: right;\r\n}\r\n\r\n#RecapTabsArea .bigToto {\r\n    font-size: 18px !important;\r\n}\r\n\r\n/*Display tab price*/\r\n\r\n.sessionsDetailsDiv {\r\n\tmargin-top: 70px;\r\n}\r\n\r\n\r\n\r\n/* Stop button Voir Plus Auto*/\r\n\r\n.btnStopVoirPlusAuto {\r\n    position: fixed;\r\n    top: 35%;\r\n    right: 39%;\r\n    z-index: 999999999;\r\n    background-color: #7451eb;\r\n    border-radius: 100px;\r\n    padding: 23px;\r\n    color: white;\r\n    font-size: 26px;\r\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\r\n}\r\n\r\n.btnStopVoirPlusAuto:hover {\r\n    box-shadow: 0 6px 6px 0 rgb(0 0 0 / 26%), 0 10px 20px 0 rgb(0 0 0 / 19%);\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n\r\n/* Stop button Voir Plus Auto*/\r\n\r\n.databaseResetConfirmationDiv {\r\n    position: fixed;\r\n    top: 35%;\r\n    right: 39%;\r\n    z-index: 999999999;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: #aaaaaa;\r\n    border-radius: 20px;\r\n}\r\n\r\n.databaseResetConfirmationP {\r\n    margin: 32px 20px 50px 20px;\r\n    color: white;\r\n    font-size: 20px;\r\n}\r\n\r\n.databaseResetConfirmationBtnContainer {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin-bottom: 35px;\r\n}\r\n\r\n.databaseResetConfirmationBtn {\r\n    background-color: #7451eb;\r\n    border-radius: 100px;\r\n    padding: 23px;\r\n    color: white;\r\n    font-size: 26px;\r\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\r\n    width: 100px;\r\n    text-align: center;\r\n}\r\n\r\n.databaseResetConfirmationBtn:hover {\r\n    box-shadow: 0 6px 6px 0 rgb(0 0 0 / 26%), 0 10px 20px 0 rgb(0 0 0 / 19%);\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n\r\n\r\n/* students list*/\r\n\r\n.studentsListContainer {\r\n    display: flex;\r\n}\r\n\r\n.studentsList {\r\n    width: 50%;\r\n}\r\n\r\n#studentsListTabsArea {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 50px;\r\n}\r\n\r\n\r\n\r\n\r\n/* stats*/\r\n\r\n#statsArea {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 50px;\r\n}\r\n\r\n.statsDiv {\r\n    display: flex;\r\n}\r\n\r\n.statsDiv p {\r\n\tline-height: 48px;\r\n    padding-top: 12px;\r\n    padding-left: 10px;\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n}\r\n\r\n\r\n\r\n\r\n/* FormationDate*/\r\n\r\n#formationDateArea {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 50px;\r\n}\r\n\r\n#formationDateArea .studentsContainer {\r\n\tdisplay: flex;\r\n}\r\n\r\n#formationDateArea .studentsContainerColumn {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 45px;\r\n}\r\n\r\n#formationDateArea .studentsDateColumn {\r\n    margin-left: 60px;\r\n}\r\n\r\n.monthSection {\r\n    text-align: right;\r\n\tfont-weight: 600;\r\n\theight: 26px;\r\n\tmargin-bottom: 17px;\r\n    margin-top: 12px;\r\n}\r\n\r\n.yearSection {\r\n    text-align: right;\r\n    font-weight: 600;\r\n    height: 26px;\r\n    margin-bottom: 17px;\r\n    margin-top: 100px;\r\n    font-size: 34px;\r\n}\r\n\r\n\r\n/*Switch Button*/\r\n.webapp-0-webapp149,\r\n.webapp-0-webapp155 {\r\n    grid-template-columns: 11rem 0.7fr 1fr 5.5rem 10rem 7rem !important;\r\n}\r\n/* Common Switch\r\n==========================*/\r\n.isItAnAF {\r\n\tz-index: 42020;\r\n}\r\n.switch {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tvertical-align: top;\r\n\twidth: 100px;\r\n\theight: 30px;\r\n\tpadding: 3px;\r\n\tmargin: 0 10px 10px 0;\r\n\tbackground: linear-gradient(to bottom, #eeeeee, #FFFFFF 25px);\r\n\tbackground-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF 25px);\r\n\tborder-radius: 18px;\r\n\tbox-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);\r\n\tcursor: pointer;\r\n\tbox-sizing:content-box;\r\n\tz-index: 42030;\r\n}\r\n.switch-input {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\topacity: 0;\r\n\tbox-sizing:content-box;\r\n}\r\n.switch-label {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\theight: inherit;\r\n\tfont-size: 10px;\r\n\ttext-transform: uppercase;\r\n\tbackground: #eceeef;\r\n\tborder-radius: inherit;\r\n\tbox-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);\r\n\tbox-sizing:content-box;\r\n\tz-index: 42040;\r\n}\r\n.switch-label:before, .switch-label:after {\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tmargin-top: -.5em;\r\n\tline-height: 1;\r\n\t-webkit-transition: inherit;\r\n\t-moz-transition: inherit;\r\n\t-o-transition: inherit;\r\n\ttransition: inherit;\r\n\tbox-sizing:content-box;\r\n}\r\n.switch-label:before {\r\n\tcontent: attr(data-off);\r\n\tright: 11px;\r\n\tcolor: #aaaaaa;\r\n\ttext-shadow: 0 1px rgba(255, 255, 255, 0.5);\r\n}\r\n.switch-label:after {\r\n\tcontent: attr(data-on);\r\n\tleft: 11px;\r\n\tcolor: #FFFFFF;\r\n\ttext-shadow: 0 1px rgba(0, 0, 0, 0.2);\r\n\topacity: 0;\r\n}\r\n.switch-input:checked ~ .switch-label {\r\n\tbackground: #E1B42B;\r\n\tbox-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-input:checked ~ .switch-label:before {\r\n\topacity: 0;\r\n}\r\n.switch-input:checked ~ .switch-label:after {\r\n\topacity: 1;\r\n}\r\n.switch-handle {\r\n\tposition: absolute;\r\n\ttop: 4px;\r\n\tleft: 4px;\r\n\twidth: 28px;\r\n\theight: 28px;\r\n\tbackground: linear-gradient(to bottom, #FFFFFF 40%, #f0f0f0);\r\n\tbackground-image: -webkit-linear-gradient(top, #FFFFFF 40%, #f0f0f0);\r\n\tborder-radius: 100%;\r\n\tbox-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\r\n\tz-index: 42050;\r\n}\r\n.switch-handle:before {\r\n\tcontent: \"\";\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\tmargin: -6px 0 0 -6px;\r\n\twidth: 12px;\r\n\theight: 12px;\r\n\tbackground: linear-gradient(to bottom, #eeeeee, #FFFFFF);\r\n\tbackground-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF);\r\n\tborder-radius: 6px;\r\n\tbox-shadow: inset 0 1px rgba(0, 0, 0, 0.02);\r\n}\r\n.switch-input:checked ~ .switch-handle {\r\n\tleft: 74px;\r\n\tbox-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n \r\n/* Transition\r\n========================== */\r\n.switch-label, .switch-handle {\r\n\ttransition: All 0.3s ease;\r\n\t-webkit-transition: All 0.3s ease;\r\n\t-moz-transition: All 0.3s ease;\r\n\t-o-transition: All 0.3s ease;\r\n}","id":"https://openclassrooms.com/fr/mentorship/dashboard/mentorship-sessions-history","js":"// let observerVoirPlusAuto;\r\nlet classOfDivContainingTable = \".dom-services-1-dom-services2\";\r\nclassOfDivContainingTable = \"div[data-search-hide-element='true'] > .webapp-0-webapp8 > .webapp-0-webapp9 > #mainContent > .webapp-0-webapp5> #history\";\r\n\r\nfunction miseEnAttente() {\r\n\tsetTimeout(addToolBar, 5000); //On attend 5 secondes avant d'exécuter la fonction\r\n}\r\n\r\nfunction addToolBar() {\t\r\n\t// Get container \r\n\tlet container = document.getElementById(\"mainContent\").getElementsByClassName(\"webapp-0-webapp5\")[0];\r\n\t\r\n\t// Get navSection \r\n\tlet navSection = container.children[2];\r\n\t\r\n\t// Create toolBar\r\n\tlet toolBarSection = document.createElement(\"div\");\r\n\ttoolBarSection.classList.add(\"toolBarSection\");\r\n\t\r\n\t// Create button 1\r\n\tlet toolBarSectionButton1 = document.createElement(\"button\");\r\n\ttoolBarSectionButton1.classList.add(\"toolBarSectionButton\");\r\n\t\r\n\tlet toolBarSectionButtonSpan1 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpan1.classList.add(\"dom-services-3-MuiButton-label\");\r\n\t\r\n\tlet toolBarSectionButtonSpanSpan1 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpanSpan1.textContent = \"Ajouter les sessions ci-dessous à la BDD\";\r\n\t//toolBarSectionButtonSpanSpan1.setAttribute(\"onclick\", \"getDisplayedSessions()\");\r\n\ttoolBarSectionButtonSpanSpan1.style.textTransform = \"none\";\r\n\t\r\n\t// Create button 2\r\n\tlet toolBarSectionButton2 = document.createElement(\"button\");\r\n\ttoolBarSectionButton2.classList.add(\"toolBarSectionButton\");\r\n\t\r\n\tlet toolBarSectionButtonSpan2 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpan2.classList.add(\"dom-services-3-MuiButton-label\");\r\n\t\r\n\tlet toolBarSectionButtonSpanSpan2 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpanSpan2.textContent = \"Effacer BDD\";\r\n\ttoolBarSectionButtonSpanSpan2.style.textTransform = \"none\";\r\n\t\r\n\t// Create button 3\r\n\tlet toolBarSectionButton3 = document.createElement(\"button\");\r\n\ttoolBarSectionButton3.classList.add(\"toolBarSectionButton\");\r\n\t\r\n\tlet toolBarSectionButtonSpan3 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpan3.classList.add(\"dom-services-3-MuiButton-label\");\r\n\t\r\n\tlet toolBarSectionButtonSpanSpan3 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpanSpan3.textContent = \"Afficher récapitulatif\";\r\n\ttoolBarSectionButtonSpanSpan3.style.textTransform = \"none\";\r\n\t\r\n\t// Create Select month\r\n\t///// Select\r\n\tlet toolBarSectionSelectMonthSelect = document.createElement(\"select\");\r\n\ttoolBarSectionSelectMonthSelect.id = \"monthSelect\";\r\n\ttoolBarSectionSelectMonthSelect.classList.add(\"toolBarSectionButton\");\r\n\ttoolBarSectionSelectMonthSelect.setAttribute(\"name\", \"month\");\r\n\t///// Option\r\n\t////////// Default\r\n\tlet toolBarSectionSelectMonthSelectOptionDefault = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionDefault.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionDefault.setAttribute(\"value\", \"default\");\r\n\ttoolBarSectionSelectMonthSelectOptionDefault.textContent = \"Choisir un mois\";\r\n\t////////// janvier\r\n\tlet toolBarSectionSelectMonthSelectOptionJanvier = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionJanvier.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionJanvier.setAttribute(\"value\", \"janvier\");\r\n\ttoolBarSectionSelectMonthSelectOptionJanvier.textContent = \"Janvier\";\r\n\t////////// février\r\n\tlet toolBarSectionSelectMonthSelectOptionFevrier = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionFevrier.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionFevrier.setAttribute(\"value\", \"février\");\r\n\ttoolBarSectionSelectMonthSelectOptionFevrier.textContent = \"Février\";\r\n\t////////// mars\r\n\tlet toolBarSectionSelectMonthSelectOptionMars = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionMars.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionMars.setAttribute(\"value\", \"mars\");\r\n\ttoolBarSectionSelectMonthSelectOptionMars.textContent = \"Mars\";\r\n\t////////// avril\r\n\tlet toolBarSectionSelectMonthSelectOptionAvril = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionAvril.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionAvril.setAttribute(\"value\", \"avril\");\r\n\ttoolBarSectionSelectMonthSelectOptionAvril.textContent = \"Avril\";\r\n\t////////// mai\r\n\tlet toolBarSectionSelectMonthSelectOptionMai = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionMai.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionMai.setAttribute(\"value\", \"mai\");\r\n\ttoolBarSectionSelectMonthSelectOptionMai.textContent = \"Mai\";\r\n\t////////// juin\r\n\tlet toolBarSectionSelectMonthSelectOptionJuin = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionJuin.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionJuin.setAttribute(\"value\", \"juin\");\r\n\ttoolBarSectionSelectMonthSelectOptionJuin.textContent = \"Juin\";\r\n\t////////// juillet\r\n\tlet toolBarSectionSelectMonthSelectOptionJuillet = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionJuillet.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionJuillet.setAttribute(\"value\", \"juillet\");\r\n\ttoolBarSectionSelectMonthSelectOptionJuillet.textContent = \"Juillet\";\r\n\t////////// août\r\n\tlet toolBarSectionSelectMonthSelectOptionAout = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionAout.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionAout.setAttribute(\"value\", \"août\");\r\n\ttoolBarSectionSelectMonthSelectOptionAout.textContent = \"Août\";\r\n\t////////// septembre\r\n\tlet toolBarSectionSelectMonthSelectOptionSeptembre = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionSeptembre.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionSeptembre.setAttribute(\"value\", \"septembre\");\r\n\ttoolBarSectionSelectMonthSelectOptionSeptembre.textContent = \"Septembre\";\r\n\t////////// octobre\r\n\tlet toolBarSectionSelectMonthSelectOptionOctobre = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionOctobre.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionOctobre.setAttribute(\"value\", \"octobre\");\r\n\ttoolBarSectionSelectMonthSelectOptionOctobre.textContent = \"Octobre\";\r\n\t////////// novembre\r\n\tlet toolBarSectionSelectMonthSelectOptionNovembre = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionNovembre.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionNovembre.setAttribute(\"value\", \"novembre\");\r\n\ttoolBarSectionSelectMonthSelectOptionNovembre.textContent = \"Novembre\";\r\n\t////////// décembre\r\n\tlet toolBarSectionSelectMonthSelectOptionDecembre = document.createElement(\"option\");\r\n\ttoolBarSectionSelectMonthSelectOptionDecembre.classList.add(\"monthSelectOption\");\r\n\ttoolBarSectionSelectMonthSelectOptionDecembre.setAttribute(\"value\", \"décembre\");\r\n\ttoolBarSectionSelectMonthSelectOptionDecembre.textContent = \"Décembre\";\r\n\r\n\t// Create Select year\r\n\t///// Select\r\n\tlet toolBarSectionSelectYearSelect = document.createElement(\"select\");\r\n\ttoolBarSectionSelectYearSelect.id = \"yearSelect\";\r\n\ttoolBarSectionSelectYearSelect.classList.add(\"toolBarSectionButton\");\r\n\ttoolBarSectionSelectYearSelect.setAttribute(\"name\", \"year\");\r\n\t///// Option\r\n\t////////// Default\r\n\tlet toolBarSectionSelectYearSelectOptionDefault = document.createElement(\"option\");\r\n\ttoolBarSectionSelectYearSelectOptionDefault.classList.add(\"yearSelectOption\");\r\n\ttoolBarSectionSelectYearSelectOptionDefault.setAttribute(\"value\", \"default\");\r\n\ttoolBarSectionSelectYearSelectOptionDefault.textContent = \"Choisir une année\";\r\n\ttoolBarSectionSelectYearSelect.appendChild(toolBarSectionSelectYearSelectOptionDefault);\r\n\t////////// 2015 - Current year\r\n\tfor (let year = new Date().getFullYear(); year > 2014; year--) {\r\n\t\tlet toolBarSectionSelectYear = document.createElement(\"option\");\r\n\t\ttoolBarSectionSelectYear.classList.add(\"yearSelectOption\");\r\n\t\ttoolBarSectionSelectYear.setAttribute(\"value\", year);\r\n\t\ttoolBarSectionSelectYear.textContent = year;\r\n\t\ttoolBarSectionSelectYearSelect.appendChild(toolBarSectionSelectYear);\r\n\t}\r\n\r\n\t// // Create Extra\r\n\t///// Select\r\n\tlet toolBarSectionExtra = document.createElement(\"select\");\r\n\ttoolBarSectionExtra.id = \"toolBarSectionExtra\";\r\n\ttoolBarSectionExtra.classList.add(\"toolBarSectionButton\");\r\n\ttoolBarSectionExtra.setAttribute(\"name\", \"extra\");\r\n\ttoolBarSectionExtra.addEventListener(\"change\", function() {\r\n    \tif(toolBarSectionExtra.value == \"DeleteBDD\") {\r\n        \tdeleteRecapTab();\r\n        \ttoolBarSectionExtra.value = \"default\";\r\n    \t}\r\n    \t// else if(toolBarSectionExtra.value == \"VoirPlusAuto\") {\r\n     //   \tVoirPlusAuto();\r\n    \t// }\r\n    \telse if(toolBarSectionExtra.value == \"ManualOverlayReloader\") {\r\n        \treloadingOverlay();\r\n    \t}\r\n    \telse if(toolBarSectionExtra.value == \"DisplayFollowedStudents\") {\r\n        \tdisplayFollowedStudents();\r\n    \t}\r\n    \telse if(toolBarSectionExtra.value == \"DisplayStats\") {\r\n        \tdisplayStatsScreen();\r\n    \t}\r\n    \telse if(toolBarSectionExtra.value == \"DisplayFormationDate\") {\r\n        \tdisplayFormationDateScreen();\r\n    \t}\r\n\t});\r\n\t///// Option\r\n\t////////// Default\r\n\tlet toolBarSectionExtraOptionDefault = document.createElement(\"option\");\r\n\ttoolBarSectionExtraOptionDefault.classList.add(\"extraDefaultOption\");\r\n\ttoolBarSectionExtraOptionDefault.setAttribute(\"value\", \"default\");\r\n\ttoolBarSectionExtraOptionDefault.textContent = \" ••• \";\r\n\t////////// DeleteBDD\r\n\tlet toolBarSectionExtraOptionDefaultDeleteBDD = document.createElement(\"option\");\r\n\ttoolBarSectionExtraOptionDefaultDeleteBDD.classList.add(\"extraDefaultOptionDeleteBDD\");\r\n\ttoolBarSectionExtraOptionDefaultDeleteBDD.setAttribute(\"value\", \"DeleteBDD\");\r\n\ttoolBarSectionExtraOptionDefaultDeleteBDD.textContent = \"Effacer BDD\";\r\n\t////////// VoirPlusAuto\r\n\t// let toolBarSectionExtraOptionDefaultVoirPlusAuto = document.createElement(\"option\");\r\n\t// toolBarSectionExtraOptionDefaultVoirPlusAuto.classList.add(\"extraDefaultOptionVoirPlusAuto\");\r\n\t// toolBarSectionExtraOptionDefaultVoirPlusAuto.setAttribute(\"value\", \"VoirPlusAuto\");\r\n\t// toolBarSectionExtraOptionDefaultVoirPlusAuto.textContent = \"Voir plus Auto\";\r\n\t////////// ManualOverlayReloader\r\n\tlet toolBarSectionExtraOptionDefaulManualOverlayReloader = document.createElement(\"option\");\r\n\ttoolBarSectionExtraOptionDefaulManualOverlayReloader.classList.add(\"extraDefaultOptionManualOverlayReloader\");\r\n\ttoolBarSectionExtraOptionDefaulManualOverlayReloader.setAttribute(\"value\", \"ManualOverlayReloader\");\r\n\ttoolBarSectionExtraOptionDefaulManualOverlayReloader.textContent = \"Manual overlay reloader\";\r\n\t////////// DisplayFollowedStudents\r\n\tlet toolBarSectionExtraOptionDefaulDisplayFollowedStudents = document.createElement(\"option\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayFollowedStudents.classList.add(\"extraDefaultOptionDisplayFollowedStudents\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayFollowedStudents.setAttribute(\"value\", \"DisplayFollowedStudents\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayFollowedStudents.textContent = \"Liste des étudiants suivis (all)\";\r\n\t////////// displayStats\r\n\tlet toolBarSectionExtraOptionDefaulDisplayStats = document.createElement(\"option\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayStats.classList.add(\"extraDefaultOptionDisplayStats\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayStats.setAttribute(\"value\", \"DisplayStats\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayStats.textContent = \"Statistiques\";\r\n\t////////// displayStats\r\n\tlet toolBarSectionExtraOptionDefaulDisplayFormationDate = document.createElement(\"option\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayFormationDate.classList.add(\"extraDefaultOptionDisplayFormationDate\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayFormationDate.setAttribute(\"value\", \"DisplayFormationDate\");\r\n\ttoolBarSectionExtraOptionDefaulDisplayFormationDate.textContent = \"Dates fin formation\";\r\n\t\r\n\t// // Insert button 0\r\n\t// toolBarSectionButtonSpan0.appendChild(toolBarSectionButtonSpanSpan0);\r\n\t// toolBarSectionButton0.appendChild(toolBarSectionButtonSpan0);\r\n\t// toolBarSection.appendChild(toolBarSectionButton0);\r\n\t// Insert button 1\r\n\ttoolBarSectionButtonSpan1.appendChild(toolBarSectionButtonSpanSpan1);\r\n\ttoolBarSectionButton1.appendChild(toolBarSectionButtonSpan1);\r\n\ttoolBarSection.appendChild(toolBarSectionButton1);\r\n\t// // Insert button 2\r\n\t// toolBarSectionButtonSpan2.appendChild(toolBarSectionButtonSpanSpan2);\r\n\t// toolBarSectionButton2.appendChild(toolBarSectionButtonSpan2);\r\n\t// toolBarSection.appendChild(toolBarSectionButton2);\r\n\t// Insert button 3\r\n\ttoolBarSectionButtonSpan3.appendChild(toolBarSectionButtonSpanSpan3);\r\n\ttoolBarSectionButton3.appendChild(toolBarSectionButtonSpan3);\r\n\ttoolBarSection.appendChild(toolBarSectionButton3);\r\n\t// Insert Select month\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionDefault);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionJanvier);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionFevrier);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionMars);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionAvril);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionMai);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionJuin);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionJuillet);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionAout);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionSeptembre);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionOctobre);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionNovembre);\r\n\ttoolBarSectionSelectMonthSelect.appendChild(toolBarSectionSelectMonthSelectOptionDecembre);\r\n\ttoolBarSection.appendChild(toolBarSectionSelectMonthSelect);\r\n\t// Insert Select year\r\n\ttoolBarSection.appendChild(toolBarSectionSelectYearSelect);\r\n\t// // Insert Extra\r\n\t// toolBarSection.appendChild(toolBarSectionExtra);\r\n\t// Insert Extra\r\n\ttoolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefault);\r\n\ttoolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefaultDeleteBDD);\r\n\t// toolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefaultVoirPlusAuto);\r\n\ttoolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefaulManualOverlayReloader);\r\n\ttoolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefaulDisplayFollowedStudents);\r\n\ttoolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefaulDisplayStats);\r\n\ttoolBarSectionExtra.appendChild(toolBarSectionExtraOptionDefaulDisplayFormationDate);\r\n\ttoolBarSection.appendChild(toolBarSectionExtra);\r\n\t// AddEventListener\r\n\t// toolBarSectionButton0.addEventListener(\"click\", setAF);\r\n\ttoolBarSectionButton1.addEventListener(\"click\", getDisplayedSessions);\r\n\t// toolBarSectionButton2.addEventListener(\"click\", deleteRecapTab);\r\n\ttoolBarSectionButton3.addEventListener(\"click\", displayRecapTabs);\r\n\t// Insert toolBar\r\n\tcontainer.insertBefore(toolBarSection, navSection);\r\n}\r\n\r\nfunction getSessionsHistoryTr() {\r\n\t// Get displayed sessions Elements TR\r\n\t// let sessionsHistory = document.querySelector(\"#mainContent > \" + classOfDivContainingTable + \" > table > tbody\").querySelectorAll(\"tr[tabindex='0']\");\r\n\t// let sessionsHistory = document.querySelector(\"#mainContent > \" + classOfDivContainingTable + \" > section > ol\").querySelectorAll(\"a[tabindex='0']\");\r\n\t// let sessionsHistory = document.querySelector(\"#mainContent > \" + classOfDivContainingTable + \" > section > ol\").querySelectorAll(\"span.webapp-0-webapp149\");\r\n\tlet sessionsHistory = document.querySelector(\"#mainContent > \" + classOfDivContainingTable + \" > section > ol\").querySelectorAll(\"span.webapp-0-webapp155\");\r\n\t\r\n\t// console.log(sessionsHistory);\r\n\r\n\treturn (sessionsHistory);\r\n}\r\n\r\nfunction getVoirPlus() {\r\n\t// Get button \"Voir Plus\"\r\n\tlet buttonVoirPlus = document.querySelectorAll(\"#mainContent > \" + classOfDivContainingTable + \" > div button\"); // Get buttons\r\n\tbuttonVoirPlus = buttonVoirPlus[buttonVoirPlus.length -1];// Get the last button (Voir Plus)\r\n\r\n\treturn(buttonVoirPlus);\r\n}\r\n\r\nfunction getPaging() {\r\n\tlet buttonPaging = document.querySelector(\"#history > ul\");\r\n\r\n\treturn(buttonPaging);\r\n}\r\n\r\nfunction setAF() {\r\n\t// Get displayed sessions Elements TR\r\n\tlet sessionsHistory = getSessionsHistoryTr();\r\n\t// Insert TD\r\n\tfor (session of sessionsHistory) {\r\n\t\tif(!session.querySelector(\".isItAnAF\")) { // Si les switch AF/F n'existent pas\r\n\t\t\t// Create TD\r\n\t\t\tlet tDforAF = document.createElement(\"td\");\r\n\t\t\t// Set TD\r\n\t\t\ttDforAF.classList.add(\"dom-services-3-dom-services123\", \"isItAnAF\");\r\n\t\t\ttDforAF.style.width = \"100%\";\r\n\t\t\ttDforAF.style.minWidth = \"140px\";\r\n\t\t\ttDforAF.setAttribute(\"onclick\", \"event.stopPropagation();\");\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// Create LabelSB (switch button)\r\n\t\t\tlet LabelSB = document.createElement(\"label\");\r\n\t\t\t// Set LabelSB\r\n\t\t\tLabelSB.classList.add(\"switch\");\r\n\t\t\t\r\n\t\t\t// Create inputSB\r\n\t\t\tlet inputSB = document.createElement(\"input\");\r\n\t\t\t// Set inputSB\r\n\t\t\tinputSB.classList.add(\"switch-input\");\r\n\t\t\tinputSB.setAttribute(\"type\", \"checkbox\");\r\n\t\t\t\r\n\t\t\t// Create spanSB1\r\n\t\t\tlet spanSB1 = document.createElement(\"span\");\r\n\t\t\t// Set spanSB1\r\n\t\t\tspanSB1.classList.add(\"switch-label\");\r\n\t\t\tspanSB1.setAttribute(\"data-on\", \"AutoFi...\");\r\n\t\t\tspanSB1.setAttribute(\"data-off\", \"Financé\");\r\n\t\t\t\r\n\t\t\t// Create spanSB2\r\n\t\t\tlet spanSB2 = document.createElement(\"span\");\r\n\t\t\t// Set spanSB2\r\n\t\t\tspanSB2.classList.add(\"switch-handle\");\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t// Insert TD\r\n\t\t\tLabelSB.appendChild(inputSB);\r\n\t\t\tLabelSB.appendChild(spanSB1);\r\n\t\t\tLabelSB.appendChild(spanSB2);\r\n\t\t\t\ttDforAF.appendChild(LabelSB);\r\n\t\t\tsession.appendChild(tDforAF);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getDisplayedSessions() {\r\n\t\r\n\t// Get displayed sessions Elements\r\n\tlet sessionsHistory = getSessionsHistoryTr();\r\n\t\r\n\t// Init sessionsHistoryTab form localstorage\r\n\tlet sessionsHistoryTab = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\tif (sessionsHistoryTab == null)\r\n\t\tsessionsHistoryTab = [];\r\n\r\n\t// Create new object and push it in sessionsHistoryTab\r\n\tfor (session of sessionsHistory) {\r\n\t\tlet newItem = {};\r\n\t\tnewItem.studentName = session.querySelectorAll('span > div')[2].querySelector('div').lastChild.textContent;\r\n\t\tnewItem.sessionStatus = session.getElementsByTagName(\"svg\")[0].getAttribute(\"aria-label\");\r\n\t\tnewItem.sessionDate = session.getElementsByTagName(\"time\")[0].textContent;\r\n\t\tnewItem.sessionDateMonth = newItem.sessionDate.split(' ')[1];\r\n\t\tnewItem.sessionDateYear = newItem.sessionDate.split(' ')[2].match(/\\d+/g)[0];\r\n\t\tnewItem.sessionId = newItem.sessionDate + \" - \" + newItem.studentName;\r\n\t\tnewItem.sessionType = session.getElementsByTagName(\"p\")[0].textContent;\r\n\t\t// Set newItem.sessionLvl\r\n\t\tif (newItem.sessionStatus == \"Annulée\" || newItem.sessionStatus == \"Annulée tardivement\" || newItem.sessionStatus == \"Absence\")\r\n\t\t\tnewItem.sessionLvl = \"0\";\r\n\t\telse {\r\n\t\t\tif (session.children[3].getElementsByTagName(\"span\")[0])\r\n\t\t\t\tnewItem.sessionLvl = session.children[3].getElementsByTagName(\"span\")[0].textContent;\r\n\t\t\telse {\r\n\t\t\t\tnewItem.sessionLvl = \"TO SET\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Set newItem.studentFaOrF\r\n\t\tif (session.children[5] == undefined)\r\n\t\t\talert(\"AF/F non set\");\r\n\t\tif (session.children[5].getElementsByClassName(\"switch-input\")[0].checked)\r\n\t\t\tnewItem.studentFaOrF = \"af\";\r\n\t\telse\r\n\t\t \tnewItem.studentFaOrF = \"f\";\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t// On va vérifier si la session n'est pas déjà présente dans sessionsHistoryTab\r\n\t\tlet alreadyExistingSession = 0;\r\n\t\tfor (oldSession of sessionsHistoryTab) {\r\n\t\t\tif(newItem.sessionId == oldSession.sessionId) {\r\n\t\t\t\tif(newItem.studentFaOrF != oldSession.studentFaOrF)\r\n\t\t\t\t\toldSession.studentFaOrF = newItem.studentFaOrF;\r\n\t\t\t\talreadyExistingSession++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Si la session n'est pas déjà présente dans sessionsHistoryTab, on l'ajoute dedans localStorage\r\n\t\tif(alreadyExistingSession == 0)\r\n\t\t\tsessionsHistoryTab.push(newItem);\r\n\t}\r\n\t\r\n\t// Update sessionsHistoryTab in localStorage\r\n\tlocalStorage.setItem('sessionsHistoryTab', JSON.stringify(sessionsHistoryTab));\r\n\talert(\"Etudiants ajoutés\");\r\n\t\r\n\tmarkIfSessionIsAlreadyInBDD();\r\n}\r\n\r\nfunction deleteRecapTab() {\r\n\t// Creat confirmation databaseResetConfirmationBtns\r\n\tlet databaseResetConfirmationDiv = document.createElement(\"div\");\r\n\tdatabaseResetConfirmationDiv.classList.add(\"databaseResetConfirmationDiv\");\r\n\t\r\n\tlet databaseResetConfirmationP = document.createElement(\"p\");\r\n\tdatabaseResetConfirmationP.classList.add(\"databaseResetConfirmationP\");\r\n\tdatabaseResetConfirmationP.textContent = \"Voulez vous vraiment RAS la BDD ?\";\r\n\t\r\n\tlet databaseResetConfirmationBtnContainer = document.createElement(\"div\");\r\n\tdatabaseResetConfirmationBtnContainer.classList.add(\"databaseResetConfirmationBtnContainer\");\r\n\t\r\n\tlet databaseResetConfirmationBtn1 = document.createElement(\"div\");\r\n\tdatabaseResetConfirmationBtn1.textContent = \"Non\";\r\n\tdatabaseResetConfirmationBtn1.classList.add(\"databaseResetConfirmationBtn\", \"databaseResetConfirmationBtn1\");\r\n\t\tdatabaseResetConfirmationBtn1.addEventListener(\"click\", function() {\r\n\t\t// Hide confirmation databaseResetConfirmationBtns\r\n\t\tdatabaseResetConfirmationDiv.style.display = \"none\";\r\n\t});\r\n\t\r\n\tlet databaseResetConfirmationBtn2 = document.createElement(\"div\");\r\n\tdatabaseResetConfirmationBtn2.textContent = \"Oui\";\r\n\tdatabaseResetConfirmationBtn2.classList.add(\"databaseResetConfirmationBtn\", \"databaseResetConfirmationBtn2\");\r\n\tdatabaseResetConfirmationBtn2.addEventListener(\"click\", function() {\r\n\t\t// Hide confirmation databaseResetConfirmationBtns\r\n\t\tdatabaseResetConfirmationDiv.style.display = \"none\";\r\n\t\t// remove item from localStorage\r\n\t\tlocalStorage.removeItem('sessionsHistoryTab');\r\n\t\t// Display remove confirmation msg\r\n\t\talert(\"Remise à zéro de la BDD effectuée\");\r\n\t\tmarkIfSessionIsAlreadyInBDD();\r\n\t});\r\n\t\r\n\t\r\n\tdatabaseResetConfirmationDiv.appendChild(databaseResetConfirmationP);\r\n\tdatabaseResetConfirmationBtnContainer.appendChild(databaseResetConfirmationBtn1);\r\n\tdatabaseResetConfirmationBtnContainer.appendChild(databaseResetConfirmationBtn2);\r\n\tdatabaseResetConfirmationDiv.appendChild(databaseResetConfirmationBtnContainer);\r\n\t\r\n\tlet bodyContainer = document.getElementsByTagName(\"body\")[0];\r\n\tbodyContainer.appendChild(databaseResetConfirmationDiv);\r\n}\r\n\r\n// the button \"voir plus\" no longer exists\r\n// function VoirPlusAuto() {\r\n// \t// create / set / add button StopVoirPlusAuto\r\n// \tif (document.getElementsByClassName(\"btnStopVoirPlusAuto\").length == 0) {\r\n// \t\tlet btnStopVoirPlusAuto = document.createElement(\"div\");\r\n// \t\tbtnStopVoirPlusAuto.textContent = \"Stop Voir Plus Auto\";\r\n// \t\tbtnStopVoirPlusAuto.classList.add(\"btnStopVoirPlusAuto\");\r\n// \t\tbtnStopVoirPlusAuto.addEventListener(\"click\", stopObserverVoirPlusAuto);\r\n\t\t\r\n// \t\tlet bodyContainer = document.getElementsByTagName(\"body\")[0];\r\n// \t\tbodyContainer.appendChild(btnStopVoirPlusAuto);\r\n// \t}\r\n// \telse\r\n// \t\tdocument.getElementsByClassName(\"btnStopVoirPlusAuto\")[0].style.display = \"block\";\r\n\t\r\n\t\r\n// \tlet elementToObserve = document.querySelector(\"#mainContent > \" + classOfDivContainingTable);\r\n// \tlet options = {childList: true, subtree: true};\r\n// \tobserverVoirPlusAuto = new MutationObserver(mCallback);\r\n\t\r\n// \tfunction mCallback(mutations) {\r\n// \t\tlet SessionsHistoryTrLength = document.querySelectorAll(\"#mainContent > \" + classOfDivContainingTable + \" > section > ol > li\").length;\r\n// \t\tconsole.log(SessionsHistoryTrLength);\r\n// \t\tlet buttonVoirPLus = getVoirPlus();\r\n// \t\t// if (buttonVoirPLus) {\r\n// \t\tif (SessionsHistoryTrLength > 0) {\r\n// \t\t\twindow.scrollTo(0,document.body.scrollHeight);\r\n// \t\t\tbuttonVoirPLus.click();\r\n// \t\t}\r\n// \t\t// observerVoirPlusAuto.disconnect();\r\n// \t}\r\n\t\r\n// \tobserverVoirPlusAuto.observe(elementToObserve, options);\r\n\t\r\n\t\r\n// \tlet buttonVoirPLus = getVoirPlus();\r\n// \tbuttonVoirPLus.click();\r\n// }\r\n\r\n// function stopObserverVoirPlusAuto() {\r\n// \tobserverVoirPlusAuto.disconnect();\r\n// \tdocument.getElementsByClassName(\"btnStopVoirPlusAuto\")[0].style.display = \"none\";\r\n// }\r\n\r\nfunction displayRecapTabs() {\r\n\t// On récupère les éléments à cacher\r\n\tlet mainArea = document.getElementById(\"mainContent\").getElementsByClassName(\"webapp-0-webapp5\")[0];\r\n\tlet elementsToHide = [mainArea.querySelector(\"#history\"), \r\n\t\t\t\t\t\t  mainArea.querySelector(\"#history\").previousElementSibling];\r\n\t\r\n\t// Get selected month and year\r\n\tlet monthSelected =  document.getElementById(\"monthSelect\").value;\r\n\tlet yearSelected =  document.getElementById(\"yearSelect\").value;\r\n\tif (monthSelected == \"default\")\r\n\t\talert(\"Choisir un mois\");\r\n\tif (yearSelected == \"default\")\r\n\t\talert(\"Choisir une année\");\r\n\telse {\r\n\t\t// On cache les éléments de la page \"mentorship-sessions-history\" pour faire du vide (un menu, la liste des étudiants)\r\n\t\tif (elementsToHide[0].style.display != \"none\") {\r\n\t\t\tfor (elementToHide of elementsToHide)\r\n\t\t\t\telementToHide.style.display = \"none\";\r\n\t\t}\r\n\t\t// Si ancien tableau récapitulatif est déjà affiché, on supprime celui-ci\r\n\t\tif (document.getElementById(\"RecapTabsArea\")) \r\n\t\t\tmainArea.removeChild(document.getElementById(\"RecapTabsArea\"));\r\n\t\t\r\n\t\t// Création de l'élément dans lequel je vais ajouter les éléments html\r\n\t\tlet RecapTabsArea = document.createElement(\"div\");\r\n\t\tRecapTabsArea.id = \"RecapTabsArea\";\r\n\t\tmainArea.appendChild(RecapTabsArea);\r\n\t\t\r\n\t\t// Affichage de la croix (exit)\r\n\t\tlet exitCross = document.createElement(\"div\");\r\n\t\texitCross.id = \"RecapTabsAreaExit\";\r\n\t\texitCross.textContent = \"X\";\r\n\t\texitCross.addEventListener('click', function() {\r\n\t\t\thideRecapTabs(elementsToHide, RecapTabsArea);\r\n\t\t});\r\n\t\tRecapTabsArea.appendChild(exitCross);\r\n\t\t\r\n\t\t// Affichage des différents gros tableaux\r\n\t\tdisplayTab(\"AutoFinancé\", [\"af\"], [monthSelected], [yearSelected], RecapTabsArea, [\"Mentorat\"]);\r\n\t\tdisplayTab(\"Financé\", [\"f\"], [monthSelected], [yearSelected], RecapTabsArea, [\"Mentorat\"]);\r\n\t\tdisplayTab(\"Soutenance\", [\"af\", \"f\"], [monthSelected], [yearSelected], RecapTabsArea, [\"Soutenance\"]);\r\n\t\tdisplayBigToto(RecapTabsArea);\r\n\t}\r\n}\r\n\r\nfunction hideRecapTabs(elementsToDisplay, elementToHide) {\r\n\telementsToDisplay[0].style.display = \"block\";\r\n\telementsToDisplay[1].style.display = \"block\";\r\n\telementToHide.style.display = \"none\";\r\n}\r\n\r\nfunction displayTab(tabName, studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType) {\r\n\t// Create TABLE\r\n\tlet sessionsTable = document.createElement(\"table\");\r\n\tsessionsTable.classList.add(\"recaptTab\", \"recaptTab\"+sessionType, \"recaptTab\"+studentFaOrF);\r\n\t// Create TBODY\r\n\tlet sessionsTbody = document.createElement(\"tbody\");\r\n\t\r\n\t//////////////////////////////\r\n\t// Create TR1 (EN TETE)\r\n\tlet sessionsTr1 = document.createElement(\"tr\");\r\n\t// Create TD\r\n\tlet sessionsTr1Td1 = document.createElement(\"th\");\r\n\tsessionsTr1Td1.classList.add(\"tabName\");\r\n\tsessionsTr1Td1.textContent = tabName;\r\n\t//\r\n\tlet sessionsTr1Td2 = document.createElement(\"th\");\r\n\tsessionsTr1Td2.textContent = \"Lvl 1 \";\r\n\tlet sessionsTr1Td2Span = document.createElement(\"span\");\r\n\tsessionsTr1Td2Span.classList.add(\"price\", \"priceTh\");\r\n\tif (studentFaOrF == \"af\")\r\n\t\tsessionsTr1Td2Span.textContent = \"(\" + 30/2 + \")\";\r\n\telse\r\n\t\tsessionsTr1Td2Span.textContent = \"(\" + 30 + \")\";\r\n\t//\r\n\tlet sessionsTr1Td3 = document.createElement(\"th\");\r\n\tsessionsTr1Td3.textContent = \"Lvl 2 \";\r\n\tlet sessionsTr1Td3Span = document.createElement(\"span\");\r\n\tsessionsTr1Td3Span.classList.add(\"price\", \"priceTh\");\r\n\tif (studentFaOrF == \"af\")\r\n\t\tsessionsTr1Td3Span.textContent = \"(\" + 35/2 + \")\";\r\n\telse\r\n\t\tsessionsTr1Td3Span.textContent = \"(\" + 35 + \")\";\r\n\t//\r\n\tlet sessionsTr1Td4 = document.createElement(\"th\");\r\n\tsessionsTr1Td4.textContent = \"Lvl 3 \";\r\n\tlet sessionsTr1Td4Span = document.createElement(\"span\");\r\n\tsessionsTr1Td4Span.classList.add(\"price\", \"priceTh\");\r\n\tif (studentFaOrF == \"af\")\r\n\t\tsessionsTr1Td4Span.textContent = \"(\" + 40/2 + \")\";\r\n\telse\r\n\t\tsessionsTr1Td4Span.textContent = \"(\" + 40 + \")\";\r\n\t//\r\n\tlet sessionsTr1Td5 = document.createElement(\"th\");\r\n\tsessionsTr1Td5.textContent = \"Total\";\r\n\t//\r\n\t// Add SPAN inside TD\r\n\tsessionsTr1Td2.appendChild(sessionsTr1Td2Span);\r\n\tsessionsTr1Td3.appendChild(sessionsTr1Td3Span);\r\n\tsessionsTr1Td4.appendChild(sessionsTr1Td4Span);\r\n\t//\r\n\t// Add TD inside Tr1\r\n\tsessionsTr1.appendChild(sessionsTr1Td1);\r\n\tsessionsTr1.appendChild(sessionsTr1Td2);\r\n\tsessionsTr1.appendChild(sessionsTr1Td3);\r\n\tsessionsTr1.appendChild(sessionsTr1Td4);\r\n\tsessionsTr1.appendChild(sessionsTr1Td5);\r\n\t\r\n\t//////////////////////////////\r\n\t// Create TR2 (REALISEES)\r\n\tlet sessionsTr2 = document.createElement(\"tr\");\r\n\t// Create TD\r\n\tlet sessionsTr2Td1 = document.createElement(\"td\");\r\n\tsessionsTr2Td1.textContent = \"Complétées\";\r\n\t//\r\n\tlet sessionsTr2Td2 = document.createElement(\"td\");\r\n\tsessionsTr2Td2.classList.add(\"data-td\", \"Complétée\", \"lvl1\");\r\n\tsessionsTr2Td2.addEventListener(\"click\", function(){displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"1\", \"Complétée\");});\r\n\tlet sessionsTr2Td2Length = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"1\"], [\"Complétée\"], sessionType).length;\r\n\tsessionsTr2Td2.textContent = sessionsTr2Td2Length;\r\n\tlet sessionsTr2Td2Span = document.createElement(\"span\");\r\n\tsessionsTr2Td2Span.classList.add(\"price\", \"priceRéalisée\", \"priceLvl1\");\r\n\tsessionsTr2Td2Span.textContent += \" (\" + parseFloat(sessionsTr1Td2Span.textContent.replace('(', '').replace(')', '')) * sessionsTr2Td2Length + \")\";\r\n\tsessionsTr2Td2.appendChild(sessionsTr2Td2Span);\r\n\t//\r\n\tlet sessionsTr2Td3 = document.createElement(\"td\");\r\n\tsessionsTr2Td3.classList.add(\"data-td\", \"Complétée\", \"lvl2\");\r\n\tsessionsTr2Td3.addEventListener(\"click\", function(){displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"2\", \"Complétée\");});\r\n\tlet sessionsTr2Td3Length = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"2\"], [\"Complétée\"], sessionType).length;\r\n\tsessionsTr2Td3.textContent = sessionsTr2Td3Length;\r\n\tlet sessionsTr2Td3Span = document.createElement(\"span\");\r\n\tsessionsTr2Td3Span.classList.add(\"price\", \"priceRéalisée\", \"priceLvl2\");\r\n\tsessionsTr2Td3Span.textContent += \" (\" + parseFloat(sessionsTr1Td3Span.textContent.replace('(', '').replace(')', '')) * sessionsTr2Td3Length + \")\";\r\n\tsessionsTr2Td3.appendChild(sessionsTr2Td3Span);\r\n\t//\r\n\tlet sessionsTr2Td4 = document.createElement(\"td\");\r\n\tsessionsTr2Td4.classList.add(\"data-td\", \"Complétée\", \"lvl3\");\r\n\tsessionsTr2Td4.addEventListener(\"click\", function(){displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"3\", \"Complétée\");});\r\n\tlet sessionsTr2Td4Length = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"3\"], [\"Complétée\"], sessionType).length;\r\n\tsessionsTr2Td4.textContent = sessionsTr2Td4Length;\r\n\tlet sessionsTr2Td4Span = document.createElement(\"span\");\r\n\tsessionsTr2Td4Span.classList.add(\"price\", \"priceRéalisée\", \"priceLvl3\");\r\n\tsessionsTr2Td4Span.textContent += \" (\" + parseFloat(sessionsTr1Td4Span.textContent.replace('(', '').replace(')', '')) * sessionsTr2Td4Length + \")\";\r\n\tsessionsTr2Td4.appendChild(sessionsTr2Td4Span);\r\n\t//\r\n\tlet sessionsTr2Td5 = document.createElement(\"td\");\r\n\tsessionsTr2Td5.classList.add(\"Complétée\", \"total\");\r\n\tlet total1 = parseFloat(sessionsTr2Td2Span.textContent.replace('(', '').replace(')', '')) + parseFloat(sessionsTr2Td3Span.textContent.replace('(', '').replace(')', '')) + parseFloat(sessionsTr2Td4Span.textContent.replace('(', '').replace(')', '')) + \" €\";\r\n\tsessionsTr2Td5.textContent = total1;\r\n\t// Set total sessions of each line\r\n\tsessionsTr2Td1.textContent += \" (\" + (sessionsTr2Td2Length + sessionsTr2Td3Length + sessionsTr2Td4Length) + \")\";\r\n\t// Add TD inside Tr2\r\n\tsessionsTr2.appendChild(sessionsTr2Td1);\r\n\tsessionsTr2.appendChild(sessionsTr2Td2);\r\n\tsessionsTr2.appendChild(sessionsTr2Td3);\r\n\tsessionsTr2.appendChild(sessionsTr2Td4);\r\n\tsessionsTr2.appendChild(sessionsTr2Td5);\r\n\t\r\n\t//////////////////////////////\r\n\t// Create TR3 (NO-SHOW)\r\n\tlet sessionsTr3 = document.createElement(\"tr\");\r\n\t// Create TD\r\n\tlet sessionsTr3Td1 = document.createElement(\"td\");\r\n\tsessionsTr3Td1.textContent = \"No-Show\";\r\n\t//\r\n\tlet sessionsTr3Td2 = document.createElement(\"td\");\r\n\tsessionsTr3Td2.classList.add(\"data-td\", \"Étudiantabsent\", \"lvl1\");\r\n\tsessionsTr3Td2.addEventListener(\"click\", function(){displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"1\", \"Absence\");});\r\n\tlet sessionsTr3Td2Length = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"1\"], [\"Absence\"], sessionType).length;\r\n\tsessionsTr3Td2.textContent = sessionsTr3Td2Length;\r\n\tlet sessionsTr3Td2Span = document.createElement(\"span\");\r\n\tsessionsTr3Td2Span.classList.add(\"price\", \"priceÉtudiantabsent\", \"priceLvl1\");\r\n\tif (sessionType == \"Soutenance\")\r\n\t\tsessionsTr3Td2Span.textContent += \" (\" + parseFloat(sessionsTr1Td2Span.textContent.replace('(', '').replace(')', '')) * sessionsTr3Td2Length + \")\";\r\n\telse\r\n\t\tsessionsTr3Td2Span.textContent += \" (\" + parseFloat(sessionsTr1Td2Span.textContent.replace('(', '').replace(')', '')) * sessionsTr3Td2Length / 2+ \")\";\r\n\tsessionsTr3Td2.appendChild(sessionsTr3Td2Span);\r\n\t//\r\n\tlet sessionsTr3Td3 = document.createElement(\"td\");\r\n\tsessionsTr3Td3.classList.add(\"data-td\", \"Étudiantabsent\", \"lvl2\");\r\n\tsessionsTr3Td3.addEventListener(\"click\", function(){displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"2\", \"Absence\");});\r\n\tlet sessionsTr3Td3Length = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"2\"], [\"Absence\"], sessionType).length;\r\n\tsessionsTr3Td3.textContent = sessionsTr3Td3Length;\r\n\tlet sessionsTr3Td3Span = document.createElement(\"span\");\r\n\tsessionsTr3Td3Span.classList.add(\"price\", \"priceÉtudiantabsent\", \"priceLvl2\");\r\n\tif (sessionType == \"Soutenance\")\r\n\t\tsessionsTr3Td3Span.textContent += \" (\" + parseFloat(sessionsTr1Td3Span.textContent.replace('(', '').replace(')', '')) * sessionsTr3Td3Length + \")\";\r\n\telse\r\n\t\tsessionsTr3Td3Span.textContent += \" (\" + parseFloat(sessionsTr1Td3Span.textContent.replace('(', '').replace(')', '')) * sessionsTr3Td3Length / 2 + \")\";\r\n\tsessionsTr3Td3.appendChild(sessionsTr3Td3Span);\r\n\t//\r\n\tlet sessionsTr3Td4 = document.createElement(\"td\");\r\n\tsessionsTr3Td4.classList.add(\"data-td\", \"Étudiantabsent\", \"lvl3\");\r\n\tsessionsTr3Td4.addEventListener(\"click\", function(){displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"3\", \"Absence\");});\r\n\tlet sessionsTr3Td4Length = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"3\"], [\"Absence\"], sessionType).length;\r\n\tsessionsTr3Td4.textContent = sessionsTr3Td4Length;\r\n\tlet sessionsTr3Td4Span = document.createElement(\"span\");\r\n\tsessionsTr3Td4Span.classList.add(\"price\", \"priceÉtudiantabsent\", \"priceLvl3\");\r\n\tif (sessionType == \"Soutenance\")\r\n\t\tsessionsTr3Td4Span.textContent += \" (\" + parseFloat(sessionsTr1Td4Span.textContent.replace('(', '').replace(')', '')) * sessionsTr3Td4Length + \")\";\r\n\telse\r\n\t\tsessionsTr3Td4Span.textContent += \" (\" + parseFloat(sessionsTr1Td4Span.textContent.replace('(', '').replace(')', '')) * sessionsTr3Td4Length / 2 + \")\";\r\n\tsessionsTr3Td4.appendChild(sessionsTr3Td4Span);\r\n\t//\r\n\tlet sessionsTr3Td5 = document.createElement(\"td\");\r\n\tsessionsTr3Td5.classList.add(\"Étudiantabsent\", \"total\");\r\n\tlet total2 = parseFloat(sessionsTr3Td2Span.textContent.replace('(', '').replace(')', '')) + parseFloat(sessionsTr3Td3Span.textContent.replace('(', '').replace(')', '')) + parseFloat(sessionsTr3Td4Span.textContent.replace('(', '').replace(')', '')) + \" €\";\r\n\tsessionsTr3Td5.textContent = total2;\r\n\t// Set total sessions of each line\r\n\tsessionsTr3Td1.textContent += \" (\" + (sessionsTr3Td2Length + sessionsTr3Td3Length + sessionsTr3Td4Length) + \")\";\r\n\t// Add TD af inside Tr3\r\n\tsessionsTr3.appendChild(sessionsTr3Td1);\r\n\tsessionsTr3.appendChild(sessionsTr3Td2);\r\n\tsessionsTr3.appendChild(sessionsTr3Td3);\r\n\tsessionsTr3.appendChild(sessionsTr3Td4);\r\n\tsessionsTr3.appendChild(sessionsTr3Td5);\r\n\t\r\n\t//////////////////////////////\r\n\t// Create TR4 (Etudiants suivis)\r\n\tlet sessionsTr4 = document.createElement(\"tr\");\r\n\t// Create TD\r\n\tlet sessionsTr4Td1 = document.createElement(\"td\");\r\n\tsessionsTr4Td1.textContent = \"Etudiants suivis\";\r\n\t// Create TD \r\n\tlet sessionsTr4Td2 = document.createElement(\"td\");\r\n\tsessionsTr4Td2.classList.add(\"data-td\", \"EtudiantsSuivis\");\r\n\t///// Get sessions\r\n\tlet sessions = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, [\"1\", \"2\", \"3\"], [\"Complétée\", \"Absence\"], sessionType);\r\n\t///// Set TD\r\n\tsessionsTr4Td2.textContent = uniqueStudentsAmongSessions(sessions).length;\r\n\tsessionsTr4Td2.addEventListener(\"click\", function(){displayUniqueStudentsAmongSessions(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, \"3\", \"Absence\", sessions);});\r\n\t// Create TD \r\n\tlet sessionsTr4Td3 = document.createElement(\"td\");\r\n\tlet sessionsTr4Td4 = document.createElement(\"td\");\r\n\tlet sessionsTr4Td5 = document.createElement(\"td\");\r\n\tlet total3 = 0;\r\n\tif (studentFaOrF == \"af\") {\r\n\t\tsessionsTr4Td5.classList.add(\"Étudiantsuivis\", \"total\");\r\n\t\ttotal3 = parseInt(sessionsTr4Td2.textContent) * 30;\r\n\t\tsessionsTr4Td5.textContent = total3 + \" €\";\r\n\t}\r\n\t// Add TD af inside Tr4\r\n\tsessionsTr4.appendChild(sessionsTr4Td1);\r\n\tsessionsTr4.appendChild(sessionsTr4Td2);\r\n\tsessionsTr4.appendChild(sessionsTr4Td3);\r\n\tsessionsTr4.appendChild(sessionsTr4Td4);\r\n\tsessionsTr4.appendChild(sessionsTr4Td5);\r\n\t\r\n\t//////////////////////////////\r\n\t// Create TR5 (Toto)\r\n\tlet sessionsTr5 = document.createElement(\"tr\");\r\n\t// Create TD\r\n\tlet sessionsTr5Td1 = document.createElement(\"td\");\r\n\tsessionsTr5Td1.textContent = \"Toto\";\r\n\tlet sessionsTr5Td2 = document.createElement(\"td\");\r\n\tlet sessionsTr5Td3 = document.createElement(\"td\");\r\n\tlet sessionsTr5Td4 = document.createElement(\"td\");\r\n\tlet sessionsTr5Td5 = document.createElement(\"td\");\r\n\tsessionsTr5Td5.classList.add(\"toto\");\r\n\tsessionsTr5Td5.textContent = parseFloat(total1) + parseFloat(total2) + parseFloat(total3) + \"€\";\r\n\t// Add TD af inside Tr5\r\n\tsessionsTr5.appendChild(sessionsTr5Td1);\r\n\tsessionsTr5.appendChild(sessionsTr5Td2);\r\n\tsessionsTr5.appendChild(sessionsTr5Td3);\r\n\tsessionsTr5.appendChild(sessionsTr5Td4);\r\n\tsessionsTr5.appendChild(sessionsTr5Td5);\r\n\r\n\t//////////////////////////////\r\n\t// Add TR inside TBODY\r\n\tsessionsTbody.appendChild(sessionsTr1);\r\n\tsessionsTbody.appendChild(sessionsTr2);\r\n\tsessionsTbody.appendChild(sessionsTr3);\r\n\tsessionsTbody.appendChild(sessionsTr4);\r\n\tsessionsTbody.appendChild(sessionsTr5);\r\n\t\r\n\t// Add TBODY inside TABLE\r\n\tsessionsTable.appendChild(sessionsTbody);\r\n\t\r\n\t// Add TABLE inside FRONTEND\r\n\tRecapTabsArea.appendChild(sessionsTable);\r\n}\r\n\r\nfunction displayBigToto(RecapTabsArea) {\r\n\t// Get 3 totos\r\n\tlet totos = document.getElementsByClassName(\"toto\");\r\n\t\r\n\t// Create BigToto HT\r\n\tlet bigTotoDivHT = document.createElement(\"div\");\r\n\tbigTotoDivHT.classList.add(\"bigToto\", \"bigTotoHT\");\r\n\t\r\n\t// Create BigToto Net\r\n\tlet bigTotoDivNet = document.createElement(\"div\");\r\n\tbigTotoDivNet.classList.add(\"bigToto\", \"bigTotoNet\");\r\n\t\r\n\t// Create BigToto TTC\r\n\tlet bigTotoDivTTC = document.createElement(\"div\");\r\n\tbigTotoDivTTC.classList.add(\"bigToto\", \"bigTotoTTC\");\r\n\t\r\n\t// Init BigToto \r\n\tlet bigToto = 0;\r\n\tfor (const toto of totos) {\r\n\t\tbigToto += parseFloat(toto.textContent);\r\n\t}\r\n\tbigTotoDivTTC.textContent = \"TOTAL TTC  = \" + (bigToto/100*120) + \" €\";\r\n\tbigTotoDivHT.textContent  = \"TOTAL HT   = \" + bigToto + \" €\";\r\n\tbigTotoDivNet.textContent = \"TOTAL NET  = \" + bigToto/100*75 + \" €\";\r\n\t\r\n\t// Add bigToto inside FRONTEND\r\n\tRecapTabsArea.appendChild(bigTotoDivTTC);\r\n\tRecapTabsArea.appendChild(bigTotoDivHT);\r\n\tRecapTabsArea.appendChild(bigTotoDivNet);\r\n}\r\n\r\nfunction displayDetails(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, sessionLvl, sessionStatus) {\r\n\t// Clean old sessionsDetailsDiv\r\n\tlet oldSessionsDetailsDiv = document.getElementsByClassName(\"sessionsDetailsDiv\");\r\n\tif(oldSessionsDetailsDiv.length > 0)\r\n\t \tdocument.getElementById(\"RecapTabsArea\").removeChild(oldSessionsDetailsDiv[0]);\r\n\t\t\r\n\t// Create Div\r\n\tlet sessionsDetailsDiv = document.createElement(\"div\");\r\n\tsessionsDetailsDiv.classList.add(\"sessionsDetailsDiv\");\r\n\t// Create H3\r\n\tlet sessionsDetailsH3 = document.createElement(\"h3\");\r\n\tif (sessionType == \"Soutenance\")\r\n\t\tsessionsDetailsH3.textContent = \"Sessions de \" + sessionType +  \" de niveau \" + sessionLvl + \" (\" + sessionStatus + \")\";\r\n\telse\r\n\t\tsessionsDetailsH3.textContent = \"Sessions de \" + sessionType + \" (\" + studentFaOrF +  \") de niveau \" + sessionLvl + \" (\" + sessionStatus + \")\";\r\n\t// Add H3 inside Div\r\n\tsessionsDetailsDiv.appendChild(sessionsDetailsH3);\r\n\t\r\n\t// Get sessions\r\n\tlet sessions = getSessionsWithParams(studentFaOrF, monthSelected, yearSelected, sessionLvl, sessionStatus, sessionType)\r\n\tlet c = 1;\r\n\tfor (session of sessions) {\r\n\t\tlet sessionsDetailsP = document.createElement(\"p\");\r\n\t\tsessionsDetailsP.textContent = c + \"  =>  \" + session.sessionDate + \" --- \" + session.studentName;\r\n\t\t// Add P inside Div\r\n\t\tsessionsDetailsDiv.appendChild(sessionsDetailsP);\r\n\t\tc++;\r\n\t}\r\n\t\r\n\t// Add Div inside FRONTEND\r\n\tRecapTabsArea.appendChild(sessionsDetailsDiv);\t\r\n}\r\n\r\nfunction displayUniqueStudentsAmongSessions(studentFaOrF, monthSelected, yearSelected, RecapTabsArea, sessionType, sessionLvl, sessionStatus, studentsList) {\r\n\t// Clean old sessionsDetailsDiv\r\n\tlet oldSessionsDetailsDiv = document.getElementsByClassName(\"sessionsDetailsDiv\");\r\n\tif(oldSessionsDetailsDiv.length > 0)\r\n\t \tdocument.getElementById(\"RecapTabsArea\").removeChild(oldSessionsDetailsDiv[0]);\r\n\t\t\r\n\t// Create Div\r\n\tlet sessionsDetailsDiv = document.createElement(\"div\");\r\n\tsessionsDetailsDiv.classList.add(\"sessionsDetailsDiv\");\r\n\t// Create H3\r\n\tlet sessionsDetailsH3 = document.createElement(\"h3\");\r\n\tif (sessionType == \"Soutenance\")\r\n\t\tsessionsDetailsH3.textContent = \"Etudiants suivis en sessions de \" + sessionType;\r\n\telse\r\n\t\tsessionsDetailsH3.textContent = \"Etudiants suivis en sessions de \" + sessionType + \" (\" + studentFaOrF + \")\";\r\n\t// Add H3 inside Div\r\n\tsessionsDetailsDiv.appendChild(sessionsDetailsH3);\r\n\t\r\n\t// Get sessions\r\n\tlet uniqueStudentsList = uniqueStudentsAmongSessions(studentsList);\r\n\tlet c = 1;\r\n\tfor (uniqueStudent of uniqueStudentsList) {\r\n\t\tlet sessionsDetailsP = document.createElement(\"p\");\r\n\t\tsessionsDetailsP.textContent = c + \"  =>  \" + uniqueStudent;\r\n\t\t// Add P inside Div\r\n\t\tsessionsDetailsDiv.appendChild(sessionsDetailsP);\r\n\t\tc++;\r\n\t}\r\n\t\r\n\t// Add Div inside FRONTEND\r\n\tRecapTabsArea.appendChild(sessionsDetailsDiv);\t\r\n}\r\n\r\nfunction getSessionsWithParams(studentFaOrFArray, sessionDateMonthArray, sessionDateYearArray, sessionLvlArray, sessionStatusArray, sessionTypeArray) {\r\n\t// Get l'historique des sessions\r\n\tlet sessionsHistoryTab = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\t\r\n\tlet sessionsSelected = [];\r\n\t\r\n\t// Keep les sessions qui match avec les param\r\n\tfor (session of sessionsHistoryTab) {\r\n\t\tif (studentFaOrFArray.includes(session.studentFaOrF) && \r\n\t\tsessionDateMonthArray.includes(session.sessionDateMonth) && \r\n\t\tsessionDateYearArray.includes(session.sessionDateYear) && \r\n\t\tsessionLvlArray.includes(session.sessionLvl) && \r\n\t\tsessionStatusArray.includes(session.sessionStatus) && \r\n\t\tsessionTypeArray.includes(session.sessionType)) {\r\n\t\t\tsessionsSelected.push(session);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn(sessionsSelected);\r\n}\r\n\r\nfunction uniqueStudentsAmongSessions(sessions) {\r\n\tlet uniqueStudents = [];\r\n\t\r\n\tfor (session of sessions) {\r\n\t\tlet studentNameAlreadyInsideUniqueStudents = 0;\r\n\t\tfor (uniqueStudent of uniqueStudents) {\r\n\t\t\tif (uniqueStudent == session.studentName){\r\n\t\t\t\tstudentNameAlreadyInsideUniqueStudents++;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (studentNameAlreadyInsideUniqueStudents == 0)\r\n\t\t\tuniqueStudents.push(session.studentName);\r\n\t}\r\n\t\r\n\treturn uniqueStudents;\r\n}\r\n\r\nfunction markIfSessionIsAlreadyInBDD() {\r\n\t// Get sessions BDD\r\n\tlet sessionsHistoryBDD = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\t// Get displayed sessions Elements TR\r\n\tlet sessionsHistoryDisplayed = getSessionsHistoryTr();\r\n\t// Check if sessionsDisplayed are already in the BDD\r\n\tfor (sessionDisplayed of sessionsHistoryDisplayed) {\r\n\t\tlet sessionDisplayedId = sessionDisplayed.getElementsByTagName(\"time\")[0].textContent + \" - \" + sessionDisplayed.querySelectorAll('span > div')[2].querySelector('div').lastChild.textContent;\r\n\t\tsessionDisplayed.getElementsByClassName(\"isItAnAF\")[0].classList.remove(\"studentListed\");\r\n\t\tsessionDisplayed.getElementsByClassName(\"isItAnAF\")[0].classList.remove(\"studentListedAlreadyInBDD\");\r\n\t\tsessionDisplayed.getElementsByClassName(\"isItAnAF\")[0].classList.add(\"studentListed\");\r\n\t\tif (sessionsHistoryBDD)\r\n\t\t\tfor (sessionBDD of sessionsHistoryBDD) {\r\n\t\t\t\tif (sessionDisplayedId == sessionBDD.sessionId)\r\n\t\t\t\t\tsessionDisplayed.getElementsByClassName(\"isItAnAF\")[0].classList.add(\"studentListedAlreadyInBDD\");\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\nfunction markIfSessionIsAForF() {\r\n\t// Get sessions BDD\r\n\tlet sessionsHistoryBDD = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\t// Get displayed sessions Elements TR\r\n\tlet sessionsHistoryDisplayed = getSessionsHistoryTr();\r\n\t// Check if sessionsDisplayed are AF or F sessions\r\n\tfor (sessionDisplayed of sessionsHistoryDisplayed) {\r\n\t\tlet sessionDisplayedId = sessionDisplayed.getElementsByTagName(\"time\")[0].textContent + \" - \" + sessionDisplayed.querySelectorAll('span > div')[2].querySelector('div').lastChild.textContent;\r\n\t\tif (sessionsHistoryBDD)\r\n\t\tfor (sessionBDD of sessionsHistoryBDD) {\r\n\t\t\tif (sessionDisplayedId == sessionBDD.sessionId)\r\n\t\t\t\tif (sessionBDD.studentFaOrF == \"af\")\r\n\t\t\t\t\tsessionDisplayed.getElementsByClassName(\"switch-input\")[0].checked = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateStudentsList() {\r\n\t// Get displayed sessions Elements\r\n\tlet sessionsHistory = getSessionsHistoryTr();\r\n\t\r\n\t// Init sessionsHistoryTab form localstorage\r\n\tlet sessionsHistoryTab = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\tif (sessionsHistoryTab == null)\r\n\t\tsessionsHistoryTab = [];\r\n\t\r\n\t// Init allStudentListTab form localstorage\r\n\tlet allStudentListTab = JSON.parse(localStorage.getItem('allStudentListTab'));\r\n\tif (allStudentListTab == null)\r\n\t\tallStudentListTab = [];\r\n\r\n\t// Parse sessions list and add new student inside allStudentListTab to localstorage\r\n\tfor (session of sessionsHistory) {\r\n\t\tlet currentStudent = {};\r\n\t\tcurrentStudent.name = session.querySelectorAll('span > div')[2].querySelector('div').lastChild.textContent;\r\n\t\tif (session.querySelectorAll('span > div')[2].querySelector('div').lastChild.href)\r\n\t\t\tcurrentStudent.link = session.querySelectorAll('span > div')[2].querySelector('div').lastChild.href;\r\n\t\telse\r\n\t\t\tcurrentStudent.link = \"href undefined by OC\";\r\n\t\tcurrentStudent.type = session.getElementsByTagName(\"p\")[0].textContent;\r\n\t\t\r\n\t\t// On va vérifier si l'étudiant n'est pas déjà présent dans allStudentListTab\r\n\t\tlet alreadyExistingStudent = 0;\r\n\t\tfor (student of allStudentListTab) {\r\n\t\t\tif(student.name == currentStudent.name) {\r\n\t\t\t\tif (student.type == currentStudent.type) {\r\n\t\t\t\t\talreadyExistingStudent++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Si l'étudiant n'est pas déjà présent dans allStudentListTab, on l'ajoute dans localStorage\r\n\t\tif(alreadyExistingStudent == 0)\r\n\t\t\tallStudentListTab.unshift(currentStudent);\r\n\t}\r\n\t\r\n\t// Update sessionsHistoryTab in localStorage\r\n\tlocalStorage.setItem('allStudentListTab', JSON.stringify(allStudentListTab));\r\n}\r\n\r\nfunction displayFollowedStudents() {\r\n\t// On récupère les éléments à cacher\r\n\tlet mainArea = document.getElementById(\"mainContent\").getElementsByClassName(\"webapp-0-webapp5\")[0];\r\n\tlet elementsToHide = [mainArea.querySelector(\"#history\"), \r\n\t\t\t\t\t\t  mainArea.querySelector(\"#history\").previousElementSibling];\r\n\t\r\n\r\n\r\n\t// On cache les éléments de la page \"mentorship-sessions-history\" pour faire du vide (un menu, la liste des étudiants, la pagination)\r\n\tif (elementsToHide[0].style.display != \"none\") {\r\n\t\tfor (elementToHide of elementsToHide)\r\n\t\t\telementToHide.style.display = \"none\";\r\n\t}\r\n\t// Si liste d'étudiants est déjà affichée, on supprime celui-ci\r\n\tif (document.getElementById(\"studentsListTabsArea\")) \r\n\t\tmainArea.removeChild(document.getElementById(\"studentsListTabsArea\"));\r\n\t\r\n\t// Création de l'élément dans lequel je vais ajouter les éléments html\r\n\tlet studentsListTabsArea = document.createElement(\"div\");\r\n\tstudentsListTabsArea.id = \"studentsListTabsArea\";\r\n\tmainArea.appendChild(studentsListTabsArea);\r\n\t\r\n\t// Affichage de la croix (exit)\r\n\tlet exitCross = document.createElement(\"div\");\r\n\texitCross.id = \"studentsListTabsAreaExit\";\r\n\texitCross.textContent = \"X\";\r\n\texitCross.addEventListener('click', function() {\r\n\t\thideRecapTabs(elementsToHide, studentsListTabsArea);\r\n\t});\r\n\tstudentsListTabsArea.appendChild(exitCross);\r\n\t\r\n\t// Affichage des différents gros tableaux\r\n\tdisplayStudentsList(studentsListTabsArea);\r\n}\r\n\r\nfunction howManyStudentsMentoratFollowed(allStudentListTab) {\r\n\tlet counter = 0;\r\n\t\r\n\tfor (student of allStudentListTab) {\r\n\t\tif (student.type == \"Mentorat\")\r\n\t\t\tcounter++;\r\n\t}\r\n\t\r\n\treturn counter;\r\n}\r\n\r\nfunction howManyStudentsSoutenanceFollowed(allStudentListTab) {\r\n\tlet counter = 0;\r\n\t\r\n\tfor (student of allStudentListTab) {\r\n\t\tif (student.type == \"Soutenance\") {\r\n\t\t\tlet isItMentoredStudent = 0;\r\n\t\t\tfor (studentNestedFor of allStudentListTab) {\r\n\t\t\t\tif (studentNestedFor.name == student.name && studentNestedFor.type == \"Mentorat\") {\r\n\t\t\t\t\tisItMentoredStudent++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (isItMentoredStudent == 0)\r\n\t\t\t\tcounter++;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn counter;\r\n}\r\n\r\nfunction displayStudentsList(studentsListTabsArea) {\r\n\t// Init allStudentListTab form localstorage\r\n\tlet allStudentListTab = JSON.parse(localStorage.getItem('allStudentListTab'));\r\n\tif (allStudentListTab == null)\r\n\t\talert(\"Aucun étudiant suivi\");\r\n\t\t\r\n\tlet studentsListMentoring = document.createElement(\"div\");\r\n\tstudentsListMentoring.classList.add(\"studentsList\", \"studentsListMentoring\");\r\n\t//////\r\n\tlet studentsListMentoringH2 = document.createElement(\"h2\");\r\n\tstudentsListMentoringH2.classList.add(\"studentsListH2\");\r\n\tstudentsListMentoringH2.textContent = \"Etudiants suivis (mentorat)\";\r\n\tstudentsListMentoring.appendChild(studentsListMentoringH2);\r\n\t//////\r\n\tlet studentsMentoring = howManyStudentsMentoratFollowed(allStudentListTab);\r\n\tfor (student of allStudentListTab) {\r\n\t\tif (student.type == \"Mentorat\") {\r\n\t\t\tlet studentsListMentoringP = document.createElement(\"p\");\r\n\t\t\tstudentsListMentoringP.classList.add(\"studentsListP\");\r\n\t\t\tlet studentsListMentoringA = document.createElement(\"a\");\r\n\t\t\tstudentsListMentoringA.classList.add(\"studentsListA\");\r\n\t\t\tstudentsListMentoringA.textContent = studentsMentoring + \" - \" + student.name;\r\n\t\t\tstudentsListMentoringA.href = student.link;\r\n\t\t\tstudentsListMentoringA.setAttribute(\"target\", \"_blank\");\r\n\t\t\tstudentsListMentoringP.appendChild(studentsListMentoringA);\r\n\t\t\tstudentsListMentoring.appendChild(studentsListMentoringP);\r\n\t\t\tstudentsMentoring--;\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet studentsListDefense = document.createElement(\"div\");\r\n\tstudentsListDefense.classList.add(\"studentsList\", \"studentsListDefense\");\r\n\t//////\r\n\tlet studentsListDefenseH2 = document.createElement(\"h2\");\r\n\tstudentsListDefenseH2.classList.add(\"studentsListH2\");\r\n\tstudentsListDefenseH2.textContent = \"Etudiants suivis (soutenance)\";\r\n\tstudentsListDefense.appendChild(studentsListDefenseH2);\r\n\t//////\r\n\tlet studentsDefense = howManyStudentsSoutenanceFollowed(allStudentListTab);\r\n\tfor (student of allStudentListTab) {\r\n\t\tif (student.type == \"Soutenance\") {\r\n\t\t\tlet mentoredStudent = 0;\r\n\t\t\t// L'idée ici est de retirer les soutenances pour les étudiants mentorés, pour ne garder que les étudiants vus en soutenances uniquement\r\n\t\t\tfor (studentNestedFor of allStudentListTab) {\r\n\t\t\t\tif (studentNestedFor.name == student.name && studentNestedFor.type == \"Mentorat\"){\r\n\t\t\t\t\tmentoredStudent++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (mentoredStudent == 0) {\r\n\t\t\t\tlet studentsListDefenseP = document.createElement(\"p\");\r\n\t\t\t\tstudentsListDefenseP.classList.add(\"studentsListP\");\r\n\t\t\t\tlet studentsListDefenseA = document.createElement(\"a\");\r\n\t\t\t\tstudentsListDefenseA.classList.add(\"studentsListA\");\r\n\t\t\t\tstudentsListDefenseA.textContent = studentsDefense + \" - \" + student.name;\r\n\t\t\t\tstudentsListDefenseA.href = student.link;\r\n\t\t\t\tstudentsListDefenseA.setAttribute(\"target\", \"_blank\");\r\n\t\t\t\tstudentsListDefenseP.appendChild(studentsListDefenseA);\r\n\t\t\t\tstudentsListDefense.appendChild(studentsListDefenseP);\r\n\t\t\t\tstudentsDefense--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet studentsListContainer = document.createElement(\"div\");\r\n\tstudentsListContainer.classList.add(\"studentsListContainer\");\r\n\tstudentsListContainer.appendChild(studentsListMentoring);\r\n\tstudentsListContainer.appendChild(studentsListDefense);\r\n\tstudentsListTabsArea.appendChild(studentsListContainer);\r\n\t\r\n}\r\n\r\nfunction displayStatsScreen() {\r\n\t// On récupère les éléments à cacher\r\n\tlet mainArea = document.getElementById(\"mainContent\").getElementsByClassName(\"webapp-0-webapp5\")[0];\r\n\tlet elementsToHide = [mainArea.querySelector(\"#history\"), \r\n\t\t\t\t\t\t  mainArea.querySelector(\"#history\").previousElementSibling];\r\n\t\r\n\r\n\r\n\t// On cache les éléments de la page \"mentorship-sessions-history\" pour faire du vide (un menu, la liste des étudiants, la pagination)\r\n\tif (elementsToHide[0].style.display != \"none\") {\r\n\t\tfor (elementToHide of elementsToHide)\r\n\t\t\telementToHide.style.display = \"none\";\r\n\t}\r\n\t// Si les stats sont déjà affichées, on supprime celui-ci\r\n\tif (document.getElementById(\"statsArea\")) \r\n\t\tmainArea.removeChild(document.getElementById(\"statsArea\"));\r\n\t\r\n\t// Création de l'élément dans lequel je vais ajouter les éléments html\r\n\tlet statsArea = document.createElement(\"div\");\r\n\tstatsArea.id = \"statsArea\";\r\n\tmainArea.appendChild(statsArea);\r\n\t\r\n\t// Affichage de la croix (exit)\r\n\tlet exitCross = document.createElement(\"div\");\r\n\texitCross.id = \"statsAreaExit\";\r\n\texitCross.textContent = \"X\";\r\n\texitCross.addEventListener('click', function() {\r\n\t\thideRecapTabs(elementsToHide, statsArea);\r\n\t});\r\n\tstatsArea.appendChild(exitCross);\r\n\t\r\n\t// Affichage des différents gros tableaux\r\n\tdisplayStats(statsArea);\r\n}\r\n\r\nfunction displayFormationDateScreen() {\r\n\t// On récupère les éléments à cacher\r\n\tlet mainArea = document.getElementById(\"mainContent\").getElementsByClassName(\"webapp-0-webapp5\")[0];\r\n\tlet elementsToHide = [mainArea.querySelector(\"#history\"), \r\n\t\t\t\t\t\t  mainArea.querySelector(\"#history\").previousElementSibling];\r\n\t\r\n\r\n\r\n\t// On cache les éléments de la page \"mentorship-sessions-history\" pour faire du vide (un menu, la liste des étudiants, la pagination)\r\n\tif (elementsToHide[0].style.display != \"none\") {\r\n\t\tfor (elementToHide of elementsToHide)\r\n\t\t\telementToHide.style.display = \"none\";\r\n\t}\r\n\t// Si les stats sont déjà affichées, on supprime celui-ci\r\n\tif (document.getElementById(\"formationDateArea\")) \r\n\t\tmainArea.removeChild(document.getElementById(\"formationDateArea\"));\r\n\t\r\n\t// Création de l'élément dans lequel je vais ajouter les éléments html\r\n\tlet formationDateArea = document.createElement(\"div\");\r\n\tformationDateArea.id = \"formationDateArea\";\r\n\tmainArea.appendChild(formationDateArea);\r\n\t\r\n\t// Affichage de la croix (exit)\r\n\tlet exitCross = document.createElement(\"div\");\r\n\texitCross.id = \"formationDateAreaExit\";\r\n\texitCross.textContent = \"X\";\r\n\texitCross.addEventListener('click', function() {\r\n\t\thideRecapTabs(elementsToHide, formationDateArea);\r\n\t});\r\n\tformationDateArea.appendChild(exitCross);\r\n\t\r\n\t// Affichage des différents gros tableaux\r\n\tdisplayFormationDate(formationDateArea);\r\n}\r\n\r\nfunction howManySessions() {\r\n\tlet sessionsHistoryTab = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\tlet howManySessions = {\r\n\t\texecuted: 0,\r\n\t\tcanceled: 0,\r\n\t\tlateCanceled: 0,\r\n\t\tabsentStudent: 0\r\n\t};\r\n\r\n\tlet counter = 0;\r\n\tfor (session of sessionsHistoryTab) {\r\n\t\tif (session.sessionStatus == \"Complétée\")\r\n\t\t\thowManySessions.executed++;\r\n\t\telse if (session.sessionStatus == \"Annulée\")\r\n\t\t\thowManySessions.canceled++;\r\n\t\telse if (session.sessionStatus == \"Annulée tardivement\")\r\n\t\t\thowManySessions.lateCanceled++;\r\n\t\telse if (session.sessionStatus == \"Absence\")\r\n\t\t\thowManySessions.absentStudent++;\r\n\t\telse\r\n\t\t\talert(\"Problème avec le status d'une session, sessionId = \" + session.sessionId);\r\n\t}\r\n\r\n\treturn howManySessions;\r\n}\r\n\r\nfunction displayStats(statsArea) {\r\n\r\n\tlet allStudentListTab = JSON.parse(localStorage.getItem('allStudentListTab'));\r\n\tlet sessionsCounting = howManySessions();\r\n\r\n\tlet studentsMentoringFollowedNumberDiv = document.createElement(\"div\");\r\n\tstudentsMentoringFollowedNumberDiv.classList.add(\"statsDiv\", \"studentsMentoringFollowedNumber\");\r\n\t//////\r\n\tlet studentsMentoringFollowedNumberH2 = document.createElement(\"h2\");\r\n\tstudentsMentoringFollowedNumberH2.classList.add(\"studentsMentoringFollowedNumberH2\");\r\n\tstudentsMentoringFollowedNumberH2.textContent = \"Etudiants suivis (mentorat) : \";\r\n\tstudentsMentoringFollowedNumberDiv.appendChild(studentsMentoringFollowedNumberH2);\r\n\t//////\r\n\tlet studentsMentoringFollowedNumberP = document.createElement(\"p\");\r\n\tstudentsMentoringFollowedNumberP.classList.add(\"studentsMentoringFollowedNumberP\");\r\n\tstudentsMentoringFollowedNumberP.textContent = howManyStudentsMentoratFollowed(allStudentListTab);\r\n\tstudentsMentoringFollowedNumberDiv.appendChild(studentsMentoringFollowedNumberP);\r\n\t\r\n\tlet studentsSoutenanceFollowedNumberDiv = document.createElement(\"div\");\r\n\tstudentsSoutenanceFollowedNumberDiv.classList.add(\"statsDiv\", \"studentsSoutenanceFollowedNumber\");\r\n\t//////\r\n\tlet studentsSoutenanceFollowedNumberH2 = document.createElement(\"h2\");\r\n\tstudentsSoutenanceFollowedNumberH2.classList.add(\"studentsSoutenanceFollowedNumberH2\");\r\n\tstudentsSoutenanceFollowedNumberH2.textContent = \"Etudiants suivis (soutenance) : \";\r\n\tstudentsSoutenanceFollowedNumberDiv.appendChild(studentsSoutenanceFollowedNumberH2);\r\n\t//////\r\n\tlet studentsSoutenanceFollowedNumberP = document.createElement(\"p\");\r\n\tstudentsSoutenanceFollowedNumberP.classList.add(\"studentsSoutenanceFollowedNumberP\");\r\n\tstudentsSoutenanceFollowedNumberP.textContent = howManyStudentsSoutenanceFollowed(allStudentListTab);\r\n\tstudentsSoutenanceFollowedNumberDiv.appendChild(studentsSoutenanceFollowedNumberP);\r\n\r\n\tlet sessionsExecutedNumberDiv = document.createElement(\"div\");\r\n\tsessionsExecutedNumberDiv.classList.add(\"statsDiv\", \"sessionsExecutedNumber\");\r\n\t//////\r\n\tlet sessionsExecutedNumberH2 = document.createElement(\"h2\");\r\n\tsessionsExecutedNumberH2.classList.add(\"sessionsExecutedNumberH2\");\r\n\tsessionsExecutedNumberH2.textContent = \"Nombre de sessions réalisées (session + soutenance) : \";\r\n\tsessionsExecutedNumberDiv.appendChild(sessionsExecutedNumberH2);\r\n\t//////\r\n\tlet sessionsExecutedNumberP = document.createElement(\"p\");\r\n\tsessionsExecutedNumberP.classList.add(\"sessionsExecutedNumberP\");\r\n\tsessionsExecutedNumberP.textContent = sessionsCounting.executed;\r\n\tsessionsExecutedNumberDiv.appendChild(sessionsExecutedNumberP);\r\n\t\r\n\tlet sessionsCanceledNumberDiv = document.createElement(\"div\");\r\n\tsessionsCanceledNumberDiv.classList.add(\"statsDiv\", \"sessionsCanceledNumber\");\r\n\t//////\r\n\tlet sessionsCanceledNumberH2 = document.createElement(\"h2\");\r\n\tsessionsCanceledNumberH2.classList.add(\"sessionsCanceledNumberH2\");\r\n\tsessionsCanceledNumberH2.textContent = \"Nombre de sessions annulées (session + soutenance) : \";\r\n\tsessionsCanceledNumberDiv.appendChild(sessionsCanceledNumberH2);\r\n\t//////\r\n\tlet sessionsCanceledNumberP = document.createElement(\"p\");\r\n\tsessionsCanceledNumberP.classList.add(\"sessionsCanceledNumberP\");\r\n\tsessionsCanceledNumberP.textContent = sessionsCounting.canceled;\r\n\tsessionsCanceledNumberDiv.appendChild(sessionsCanceledNumberP);\r\n\t\r\n\tlet sessionsLateCanceledNumberDiv = document.createElement(\"div\");\r\n\tsessionsLateCanceledNumberDiv.classList.add(\"statsDiv\", \"sessionsLateCanceledNumber\");\r\n\t//////\r\n\tlet sessionsLateCanceledNumberH2 = document.createElement(\"h2\");\r\n\tsessionsLateCanceledNumberH2.classList.add(\"sessionsLateCanceledNumberH2\");\r\n\tsessionsLateCanceledNumberH2.textContent = \"Nombre de sessions annulées tardivement (session + soutenance) : \";\r\n\tsessionsLateCanceledNumberDiv.appendChild(sessionsLateCanceledNumberH2);\r\n\t//////\r\n\tlet sessionsLateCanceledNumberP = document.createElement(\"p\");\r\n\tsessionsLateCanceledNumberP.classList.add(\"sessionsLateCanceledNumberP\");\r\n\tsessionsLateCanceledNumberP.textContent = sessionsCounting.lateCanceled;\r\n\tsessionsLateCanceledNumberDiv.appendChild(sessionsLateCanceledNumberP);\r\n\t\r\n\tlet sessionsAbsentStudentNumberDiv = document.createElement(\"div\");\r\n\tsessionsAbsentStudentNumberDiv.classList.add(\"statsDiv\", \"sessionsAbsentStudentNumber\");\r\n\t//////\r\n\tlet sessionsAbsentStudentNumberH2 = document.createElement(\"h2\");\r\n\tsessionsAbsentStudentNumberH2.classList.add(\"sessionsAbsentStudentNumberH2\");\r\n\tsessionsAbsentStudentNumberH2.textContent = \"Nombre d'absences d'étudiants (session + soutenance) : \";\r\n\tsessionsAbsentStudentNumberDiv.appendChild(sessionsAbsentStudentNumberH2);\r\n\t//////\r\n\tlet sessionsAbsentStudentNumberP = document.createElement(\"p\");\r\n\tsessionsAbsentStudentNumberP.classList.add(\"sessionsAbsentStudentNumberP\");\r\n\tsessionsAbsentStudentNumberP.textContent = sessionsCounting.absentStudent;\r\n\tsessionsAbsentStudentNumberDiv.appendChild(sessionsAbsentStudentNumberP);\r\n\r\n\tstatsArea.appendChild(studentsMentoringFollowedNumberDiv);\r\n\tstatsArea.appendChild(studentsSoutenanceFollowedNumberDiv);\r\n\tstatsArea.appendChild(sessionsExecutedNumberDiv);\r\n\tstatsArea.appendChild(sessionsCanceledNumberDiv);\r\n\tstatsArea.appendChild(sessionsLateCanceledNumberDiv);\r\n\tstatsArea.appendChild(sessionsAbsentStudentNumberDiv);\r\n}\r\n\r\nfunction displayFormationDate(formationDateArea) {\r\n\r\n\tlet studentsListTab = JSON.parse(localStorage.getItem('studentsListTab'));\r\n\t\r\n\t// Sort studentsListTab by date\r\n\tstudentsListTab.sort((a,b) => (a.formationDate > b.formationDate) ? 1 : ((b.formationDate > a.formationDate) ? -1 : 0))\r\n\t\r\n\tlet months = [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"];\r\n\t\r\n\tlet studentsContainer = document.createElement(\"div\");\r\n\tstudentsContainer.classList.add(\"studentsContainer\");\r\n\t\r\n\t\r\n\tlet studentsNameColumn = document.createElement(\"div\");\r\n\tstudentsNameColumn.classList.add(\"studentsContainerColumn\", \"studentsNameColumn\");\r\n\t\r\n\tlet studentsNameColumnH2 = document.createElement(\"h2\");\r\n\tstudentsNameColumnH2.classList.add(\"studentsContainerColumnH2\", \"studentsNameColumnH2\");\r\n\tstudentsNameColumnH2.textContent = \"Etudiants :\";\r\n\r\n\tstudentsNameColumn.appendChild(studentsNameColumnH2);\t\r\n\r\n\t\r\n\tlet studentsDateColumn = document.createElement(\"div\");\r\n\tstudentsDateColumn.classList.add(\"studentsContainerColumn\", \"studentsDateColumn\");\r\n\t\r\n\tlet studentsDateColumnH2 = document.createElement(\"h2\");\r\n\tstudentsDateColumnH2.classList.add(\"studentsContainerColumnH2\", \"studentsDateColumnH2\");\r\n\tstudentsDateColumnH2.textContent = \"Dates de fin de formation :\";\r\n\r\n\tstudentsDateColumn.appendChild(studentsDateColumnH2);\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tlet yearSection = document.createElement(\"p\");\r\n\tyearSection.classList.add(\"yearSection\");\r\n\tlet year = studentsListTab[0].formationDate.split(\"-\")[0];\r\n\tyearSection.textContent = year;\r\n\t\r\n\tstudentsNameColumn.appendChild(yearSection);\r\n\t\r\n\t\r\n\tlet monthSection = document.createElement(\"p\");\r\n\tmonthSection.classList.add(\"monthSection\");\r\n\tmonth = months[parseInt(studentsListTab[0].formationDate.split(\"-\")[1], 10)-1];\r\n\tmonthSection.textContent = month + \" \" + year;\r\n\t\r\n\tstudentsNameColumn.appendChild(monthSection);\r\n\t\r\n\t\r\n\tlet yearSectionEmpty = document.createElement(\"p\");\r\n\tyearSectionEmpty.classList.add(\"yearSection\", \"yearSectionEmpty\");\r\n\tlet monthSectionEmpty = document.createElement(\"p\");\r\n\tmonthSectionEmpty.classList.add(\"monthSection\", \"monthSectionEmpty\");\r\n\t\r\n\tstudentsDateColumn.appendChild(yearSectionEmpty);\r\n\tstudentsDateColumn.appendChild(monthSectionEmpty);\r\n\t\r\n\t\r\n\tlet preMonth = month;\r\n\tlet preYear = year;\r\n\t\r\n\tfor (student of studentsListTab) {\r\n\t\tlet currentMonth = months[parseInt(student.formationDate.split(\"-\")[1], 10)-1];\r\n\t\tlet currentYear = student.formationDate.split(\"-\")[0];\r\n\t\t\r\n\t\tif (currentYear != preYear) {\r\n\t\t\tlet yearSection = document.createElement(\"p\");\r\n\t\t\tyearSection.classList.add(\"yearSection\");\r\n\t\t\tlet year = student.formationDate.split(\"-\")[0];\r\n\t\t\tif (student.formationDate == \"AF\")\r\n\t\t\t\tyearSection.textContent = \"auto financé\";\r\n\t\t\telse\r\n\t\t\t\tyearSection.textContent = year;\r\n\t\t\t\r\n\t\t\tstudentsNameColumn.appendChild(yearSection);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tlet yearSectionEmpty = document.createElement(\"p\");\r\n\t\t\tyearSectionEmpty.classList.add(\"yearSection\", \"yearSectionEmpty\");\r\n\t\t\t\r\n\t\t\tstudentsDateColumn.appendChild(yearSectionEmpty);\r\n\t\t\t\r\n\t\t\tpreYear = currentYear;\r\n\t\t}\r\n\t\t\r\n\t\tif (currentMonth != preMonth) {\r\n\t\t\tlet monthSection = document.createElement(\"p\");\r\n\t\t\tmonthSection.classList.add(\"monthSection\");\r\n\t\t\tmonth = months[parseInt(student.formationDate.split(\"-\")[1], 10)-1];\r\n\t\t\tlet year = student.formationDate.split(\"-\")[0];\r\n\t\t\tif (student.formationDate == \"AF\")\r\n\t\t\t\tmonthSection.textContent = \"auto financé\";\r\n\t\t\telse\r\n\t\t\t\tmonthSection.textContent = month + \" \" + year;\r\n\t\t\t\r\n\t\t\tstudentsNameColumn.appendChild(monthSection);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tlet monthSectionEmpty = document.createElement(\"p\");\r\n\t\t\tmonthSectionEmpty.classList.add(\"monthSection\", \"monthSectionEmpty\");\r\n\t\t\t\r\n\t\t\tstudentsDateColumn.appendChild(monthSectionEmpty);\r\n\t\t\t\r\n\t\t\tpreMonth = currentMonth;\r\n\t\t}\r\n\t\r\n\t\tlet studentName = document.createElement(\"a\");\r\n\t\tstudentName.classList.add(\"studentNameA\");\t\r\n\t\tstudentName.textContent = student.name;\r\n\t\tstudentName.href = student.dashboard;\r\n\t\t\r\n\t\tstudentsNameColumn.appendChild(studentName);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tlet studentDate = document.createElement(\"a\");\r\n\t\tstudentDate.classList.add(\"studentDateA\");\t\r\n\t\tstudentDate.textContent = student.formationDate;\r\n\t\tlet studentID = student.dashboard.match(/(\\d+)/)[0];\r\n\t\tstudentDate.href = \"https://openclassrooms.com/fr/mentorship/dashboard/students/\" + studentID + \"#details\"\r\n\t\t\r\n\t\tstudentsDateColumn.appendChild(studentDate);\r\n\t}\r\n\t\r\n\r\n\tstudentsContainer.appendChild(studentsNameColumn);\r\n\tstudentsContainer.appendChild(studentsDateColumn);\r\n\tformationDateArea.appendChild(studentsContainer);\r\n}\r\n\r\nfunction observerHistoryTableChanging() {\r\n\tlet elementToObserve = document.querySelector(\"#mainContent > \" + classOfDivContainingTable);\r\n\r\n\tlet options = {childList: true, subtree: true};\r\n\tlet observer = new MutationObserver(mCallback);\r\n\t\r\n\tfunction mCallback(mutations) {\r\n\t\tlet SessionsHistoryTrLength = document.querySelectorAll(\"#mainContent > \" + classOfDivContainingTable + \" > section > ol > li\").length;\r\n\t\t\r\n\t\tif (SessionsHistoryTrLength > 0) {\r\n\t\t\tconsole.log(\"HISTORY TABLE LOADED AFTER PAGINATION CHANGE\");\r\n\t\t\tobserver.disconnect();\r\n\t\t\treloadingOverlay();\r\n\t\t\tupdateStudentsList();\r\n\t\t}\r\n\t}\r\n\t\r\n\tobserver.observe(elementToObserve, options);\r\n}\r\n\r\nfunction observerHistoryTableLoading() {\r\n\tlet containerToObserve = document.getElementById(\"mainContentWithHeader\");\r\n\tlet options = {childList: true, subtree: true};\r\n\tlet observer = new MutationObserver(mCallback);\r\n\t\r\n\tfunction mCallback(mutations) {\r\n\t\tlet SessionsHistoryTrLength = document.querySelectorAll(\"#mainContent > \" + classOfDivContainingTable + \" > section > ol > li\").length;\r\n\t\t\r\n\t\tlet buttonPaging = getPaging();\r\n\t\tif (buttonPaging) {\r\n\t\t\tconsole.log(\"HISTORY TABLE 1ST LOADED\");\r\n\t\t    observer.disconnect();\r\n\t\t    addToolBar();\r\n\t\t\treloadingOverlay();\r\n\t\t\tupdateStudentsList();\r\n\t\t}\r\n\t}\r\n\t\r\n\tobserver.observe(containerToObserve, options);\r\n}\r\n\r\nfunction reloadingOverlay() {\r\n\tsetAF();\r\n\tmarkIfSessionIsAlreadyInBDD();\r\n\tmarkIfSessionIsAForF();\r\n\tobserverHistoryTableChanging();\r\n}\r\n\r\nfunction cleanSessionsHistoryTabInLocalStorage() {\r\n\tlet sessionsHistoryTab = JSON.parse(localStorage.getItem('sessionsHistoryTab'));\r\n\t\r\n\t//Convert the old format to the new format\r\n\tfor (session of sessionsHistoryTab) {\r\n\t\tsession.sessionDate = session.sessionDate.replace(',', ' à');\r\n\t\tsession.sessionId = session.sessionId.replace(',', ' à');\r\n\t\tsession.sessionStatus = session.sessionStatus.replace('Réalisée', 'Complétée');\r\n\t\tsession.sessionStatus = session.sessionStatus.replace('Étudiant absent', 'Absence');\r\n\t}\r\n\tlocalStorage.setItem('sessionsHistoryTab', JSON.stringify(sessionsHistoryTab));\r\n\t\r\n\t//Remove duplicates\r\n\tjsonObject = sessionsHistoryTab.map(JSON.stringify);\r\n\tuniqueSet = new Set(jsonObject);\r\n\tsessionsHistoryTab = Array.from(uniqueSet).map(JSON.parse);\r\n\tlocalStorage.setItem('sessionsHistoryTab', JSON.stringify(sessionsHistoryTab));\r\n}\r\n\r\ncleanSessionsHistoryTabInLocalStorage();\r\nobserverHistoryTableLoading();","libs":[],"name":"","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":".toolBarSection {display: flex!important; justify-content: space-around!important; margin-top: 5px!important; margin-bottom: 15px!important;}.toolBarSectionButton {box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px!important; transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms!important; font-family: Montserrat!important; font-weight: 700!important; line-height: 1.5rem!important; border: none!important; background-color: rgb(116, 81, 235)!important; color: white!important; border-radius: 4px!important; padding: 9px 16px!important; cursor: pointer!important;}.toolBarSectionButton:hover {box-shadow: rgba(0, 0, 0, 0.26) 0px 6px 6px 0px, rgba(0, 0, 0, 0.19) 0px 10px 20px 0px!important;}.unscheduledStudentsSection {margin-top: 45px!important; display: flex!important; flex-direction: column!important;}","css":".toolBarSection {\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tmargin-top: 5px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.toolBarSectionButton {\r\n\tcolor: #fff;\r\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\r\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    background-color: #7451eb;\r\n\tfont-family: Montserrat;\r\n\tfont-weight: 700;\r\n    line-height: 1.5rem;\r\n    border: none;\r\n    background-color: #7451eb;\r\n    color: white;\r\n    border-radius: 4px;\r\n\tpadding: 9px 16px;\r\n\tcursor: pointer;\r\n}\r\n.toolBarSectionButton:hover {\r\n\tbox-shadow: 0 6px 6px 0 rgb(0 0 0 / 26%), 0 10px 20px 0 rgb(0 0 0 / 19%);\r\n}\r\n\r\n.unscheduledStudentsSection {\r\n    margin-top: 45px;\r\n    display: flex;\r\n    flex-direction: column;\r\n}","id":"https://openclassrooms.com/fr/mentorship/dashboard/calendar/edit","js":"function addToolBar() {\r\n\t// Get Elements \r\n\tlet container = document.querySelector('#mainContent[class*=\"webapp\"] > .webapp-0-webapp5');\r\n\tlet studentsTabDiv = container.children[3];\r\n\t\r\n\t// Create toolBar\r\n\tlet toolBarSection = document.createElement(\"div\");\r\n\ttoolBarSection.classList.add(\"toolBarSection\");\r\n\t\r\n\t// Create button 1\r\n\tlet toolBarSectionButton1 = document.createElement(\"button\");\r\n\ttoolBarSectionButton1.classList.add(\"toolBarSectionButton\");\r\n\t//\r\n\tlet toolBarSectionButtonSpan1 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpan1.classList.add(\"dom-services-3-MuiButton-label\");\r\n\t//\r\n\tlet toolBarSectionButtonSpanSpan1 = document.createElement(\"span\");\r\n\ttoolBarSectionButtonSpanSpan1.textContent = \"Quels sont les étudiants non programmés ?\";\r\n\ttoolBarSectionButtonSpanSpan1.style.textTransform = \"none\";\r\n\t\r\n\t// addEventListener button 1\r\n\ttoolBarSectionButton1.addEventListener(\"click\", getScheduledStudentsList);\r\n\t// Insert button 1\r\n\ttoolBarSectionButtonSpan1.appendChild(toolBarSectionButtonSpanSpan1);\r\n\ttoolBarSectionButton1.appendChild(toolBarSectionButtonSpan1);\r\n\ttoolBarSection.appendChild(toolBarSectionButton1);\r\n\t// Insert toolBar\r\n\tcontainer.insertBefore(toolBarSection, studentsTabDiv);\r\n}\r\n\t\r\nfunction getScheduledStudentsList() {\r\n\t// Get Scheduled Students Element\r\n\tlet scheduledEvents = document.getElementsByClassName(\"rbc-event\");\r\n\t\r\n\t// Init studentsListTab\r\n\tlet scheduledEventsTab = [];\r\n\t\r\n\t// Set studentsListTab\r\n\tfor (scheduledEvent of scheduledEvents) {\r\n\t\tscheduledEventsTab.push(scheduledEvent.getElementsByTagName(\"span\")[0].textContent);\r\n\t}\r\n\t\r\n\t// Get Students List to localStorage\r\n\tlet studentsListTab = JSON.parse(localStorage.getItem('studentsListTab'));\r\n\r\n\t\r\n\tfoundUnscheduledStudents(studentsListTab, scheduledEventsTab);\r\n}\r\n\t\r\nfunction foundUnscheduledStudents(studentsListTab, scheduledEventsTab) {\r\n\tlet unscheduledStudents = [];\r\n\t\r\n\t// Parse studentsListTab\r\n\tfor (student of studentsListTab) {\r\n\t\tif (scheduledEventsTab.indexOf(student.name) === -1)\r\n\t\t\tunscheduledStudents.push(student);\r\n\t}\r\n\t\r\n\tdisplayUnscheduledStudents(unscheduledStudents);\r\n}\r\n\t\r\nfunction displayUnscheduledStudents(unscheduledStudents) {\r\n\t// Get Elements \r\n\tlet container = document.querySelector('#mainContent[class*=\"webapp\"] > .webapp-0-webapp5');\r\n\tlet containerLastElement = container.children[4];\r\n\t\r\n\t// Create Unscheduled Students Section\r\n\tlet unscheduledStudentsSection = document.createElement(\"div\");\r\n\tunscheduledStudentsSection.classList.add(\"unscheduledStudentsSection\");\r\n\t\r\n\t// Create Unscheduled Students Section Tiltle\r\n\tlet unscheduledStudentsSectionH2 = document.createElement(\"h2\");\r\n\tunscheduledStudentsSectionH2.classList.add(\"unscheduledStudentsSectionH2\");\r\n\tunscheduledStudentsSectionH2.textContent = \"Etudiants non programmés cette semaine :\";\t\r\n\t// Insert H2 inside Unscheduled Students Section\r\n\tunscheduledStudentsSection.appendChild(unscheduledStudentsSectionH2);\r\n\t\r\n\t// Create Unscheduled Students Section Elements\r\n\tlet c = 1;\r\n\tfor (unscheduledStudent of unscheduledStudents) {\r\n\t\tlet unscheduledStudentsSectionA = document.createElement(\"a\");\r\n\t\tunscheduledStudentsSectionA.classList.add(\"unscheduledStudentsSectionA\");\r\n\t\tunscheduledStudentsSectionA.textContent = c + \" - \" + unscheduledStudent.name;\r\n\t\tunscheduledStudentsSectionA.href = unscheduledStudent.dashboard;\r\n\t\tunscheduledStudentsSectionA.target=\"_blank\";\r\n\t\t\r\n\t\t// Insert P inside Unscheduled Students Section\r\n\t\tunscheduledStudentsSection.appendChild(unscheduledStudentsSectionA);\r\n\t\tc++\r\n\t}\r\n\t\r\n\r\n\t\r\n\t// Insert Unscheduled Students Section\r\n\tcontainer.insertBefore(unscheduledStudentsSection, containerLastElement);\r\n\t\r\n}\r\n\r\nfunction scrollCalendarTo8am() {\r\n\tlet calendarContainer = document.querySelector('.rbc-time-content');\r\n\tcalendarContainer.scrollTop = 447;\r\n}\r\n\r\nfunction observerScheduledStudentsTableLoading() {\r\n\tlet containerToObserve = document.getElementById(\"mainContentWithHeader\");\r\n\tlet options = {childList: true, subtree: true};\r\n\tlet observer = new MutationObserver(mCallback);\r\n\t\r\n\tfunction mCallback(mutations) {\r\n\t\tlet scheduledEvents = document.getElementsByClassName(\"rbc-event\");\r\n\t\tif (scheduledEvents.length > 0) {\r\n\t\t\tconsole.log(\"CALENDAR LOADED\");\r\n\t\t    observer.disconnect();\r\n\t\t    addToolBar();\r\n\t\t    scrollCalendarTo8am();\r\n\t\t}\r\n\t}\r\n\t\r\n\tobserver.observe(containerToObserve, options);\r\n}\r\n\r\nobserverScheduledStudentsTableLoading();","libs":[],"name":"","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":".toolBarSection {display: flex!important; justify-content: space-around!important; margin-top: 5px!important; margin-bottom: 15px!important;}.toolBarSectionButton {box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px!important; transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms!important; font-family: Montserrat!important; font-weight: 700!important; line-height: 1.5rem!important; border: none!important; background-color: rgb(116, 81, 235)!important; color: white!important; border-radius: 4px!important; padding: 9px 16px!important;}.toolBarSectionButton:hover {box-shadow: rgba(0, 0, 0, 0.26) 0px 6px 6px 0px, rgba(0, 0, 0, 0.19) 0px 10px 20px 0px!important;}","css":".toolBarSection {\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tmargin-top: 5px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.toolBarSectionButton {\r\n\tcolor: #fff;\r\n    box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\r\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n    background-color: #7451eb;\r\n\tfont-family: Montserrat;\r\n\tfont-weight: 700;\r\n    line-height: 1.5rem;\r\n    border: none;\r\n    background-color: #7451eb;\r\n    color: white;\r\n    border-radius: 4px;\r\n\tpadding: 9px 16px;\r\n}\r\n.toolBarSectionButton:hover {\r\n\tbox-shadow: 0 6px 6px 0 rgb(0 0 0 / 26%), 0 10px 20px 0 rgb(0 0 0 / 19%);\r\n}","id":"https://openclassrooms.com/fr/mentorship/dashboard/students","js":"// PAGE OF STUDENTS\r\n\r\nfunction getStudentsList(studentsTabTrNb) {\r\n\t// Get Students List Element\r\n\tlet studentsTabTr = document.getElementsByClassName(\"webapp-0-webapp5\")[0].getElementsByTagName(\"div\")[0].getElementsByTagName(\"tbody\")[0].getElementsByTagName(\"tr\");\r\n\t\r\n\t// Init studentsListTab\r\n\tlet studentsListTabOld = JSON.parse(localStorage.getItem('studentsListTab'));\r\n\tif (!studentsListTabOld)\r\n\t\tstudentsListTabOld = [];\r\n\t\r\n\tlet studentsListTab = [];\r\n\t\r\n\t// Set studentsListTab\r\n\tfor (student of studentsTabTr) {\r\n\t\tlet newStudent = {\r\n\t\t\tname: student.getElementsByTagName(\"td\")[0].getElementsByTagName(\"a\")[0].textContent,\r\n\t\t\tdashboard: student.getElementsByTagName(\"td\")[0].getElementsByTagName(\"a\")[0].href,\r\n\t\t\tformationDate: \"unSet\"\r\n\t\t};\r\n\t\t\r\n\t\tlet alreadyExists = 0;\r\n\t\tfor (studentOld of studentsListTabOld) {\r\n\t\t\tif (studentOld.name == newStudent.name) {\r\n\t\t\t\tstudentsListTab.push(studentOld);\r\n\t\t\t\talreadyExists = 1;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (alreadyExists == 0)\r\n\t\t\tstudentsListTab.push(newStudent);\r\n\t}\r\n\t\r\n\t// Update studentsListTab in localStorage\r\n\t\r\n\t\r\n\t\r\n\tstudentsListTab.sort(function compare(a, b) {\r\n\t  if (a.formationDate < b.formationDate)\r\n\t     return -1;\r\n\t  if (a.formationDate > b.formationDate )\r\n\t     return 1;\r\n\t  return 0;\r\n\t});\r\n\r\n\r\n\r\n\tlocalStorage.setItem('studentsListTab', JSON.stringify(studentsListTab));\r\n\talert(\"Liste de \" + studentsTabTrNb + \" étudiants MAJ en BDD\");\r\n}\r\n\t\r\nfunction observerStudentsTableLoadingOfStudentsPage() {\r\n\tlet containerToObserve = document.getElementById(\"mainContentWithHeader\");\r\n\tlet options = {childList: true, subtree: true};\r\n\tlet observer = new MutationObserver(mCallback);\r\n\t\r\n\tfunction mCallback(mutations) {\r\n\t\tlet studentsTabTrNb = document.getElementsByClassName(\"webapp-0-webapp5\")[0].getElementsByTagName(\"div\")[0].getElementsByTagName(\"tbody\")[0].getElementsByTagName(\"tr\").length;\r\n\t\tif (studentsTabTrNb > 1) {\r\n\t\t\tconsole.log(studentsTabTrNb > 1);\r\n\t\t    observer.disconnect();\r\n\t\t    getStudentsList(studentsTabTrNb);\r\n\t\t}\r\n\t}\r\n\t\r\n\tobserver.observe(containerToObserve, options);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// PAGE OF STUDENT DETAILS\r\n\r\nfunction observerStudentsElementLoadingOfStudentDatailsPage() {\r\n\tlet containerToObserve = document.getElementById(\"mainContentWithHeader\");\r\n\tlet options = {childList: true, subtree: true};\r\n\tlet observer = new MutationObserver(mCallback);\r\n\t\r\n\tfunction mCallback(mutations) {\r\n\t\t// let currentStudentName = document.getElementById(\"active-path\").getElementsByTagName(\"h1\")[0].textContent;\r\n\t\tlet currentStudentName = document.querySelector('[data-testid=studentHeader]').querySelector(\"h1\").textContent;\r\n\t\tconsole.log(\"Student name =>\" + currentStudentName);\r\n\t\tif (currentStudentName) {\r\n\t\t\tconsole.log(\"Student name has been set\");\r\n\t\t    observer.disconnect();\r\n\t\t    setStudentFormationDate(currentStudentName);\r\n\t\t}\r\n\t}\r\n\t\r\n\tobserver.observe(containerToObserve, options);\r\n}\r\n\r\nfunction setStudentFormationDate(currentStudentName) {\r\n\tlet studentsListTab = JSON.parse(localStorage.getItem('studentsListTab'));\r\n\t\r\n\tfor (student of studentsListTab) {\r\n\t\tif (student.name == currentStudentName) {\r\n\t\t\tlet financementType = document.getElementById(\"details\").childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[3].textContent.substr(11);\r\n\t\t\tconsole.log(\"financementType = \" + financementType);\r\n\t\t\t// Financé par un tiers\r\n\t\t\t// Auto-financé\r\n\t\t\tif (financementType == \"Financé par un tiers\") {\r\n\t\t\t// if (document.getElementsByClassName(\"mentorshipStudent\")[0].getElementsByTagName(\"h3\")[0]) {\r\n\t\t\t\t// let studentFormationDateSentence = document.getElementsByClassName(\"mentorshipStudent\")[0].getElementsByTagName(\"h3\")[0].textContent;\r\n\t\t\t\t\r\n\t\t\t\tlet studentFormationDateSentence = document.getElementById(\"details\").childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[5].textContent.substr(26);\r\n\t\t\t\tconsole.log(\"studentFormationDateSentence = \" + studentFormationDateSentence);\r\n\t\t\t\tlet studentFormationDateDay = leftFillNum(parseInt(studentFormationDateSentence.split(/(\\d+)/)[1], 10),2);\r\n\t\t\t\tlet studentFormationDateMonth = studentFormationDateSentence.split(/(\\d+)/)[2].replace(/ /g, '').toLowerCase();\r\n\t\t\t\tlet studentFormationDateYear = parseInt(studentFormationDateSentence.split(/(\\d+)/)[3], 10);\r\n\t\t\t\tconsole.log(\"Date =>\" + studentFormationDateSentence);\r\n\t\t\t\tconsole.log(\"Day =>\" + studentFormationDateDay);\r\n\t\t\t\tconsole.log(\"Month =>\" + studentFormationDateMonth);\r\n\t\t\t\tconsole.log(\"Year =>\" + studentFormationDateYear);\r\n\t\t\t\t\r\n\t\t\t\tlet months = [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"];\r\n\t\t\t\t\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\twhile (i < months.length) {\r\n\t\t\t\t\tif (studentFormationDateMonth == months[i]) {\r\n\t\t\t\t\t\tstudentFormationDateMonth = leftFillNum(i+1,2);\r\n\t\t\t\t\t\tconsole.log(\"Fin de formation au mois numéro => \" + studentFormationDateMonth);\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tstudent.formationDate = studentFormationDateYear + \"-\" + studentFormationDateMonth + \"-\" + studentFormationDateDay;\r\n\t\t\t\tlocalStorage.setItem('studentsListTab', JSON.stringify(studentsListTab));\r\n\t\t\t}\r\n\t\t\telse if (financementType == \"Auto-financé\") {\r\n\t\t\t\tstudent.formationDate = \"AF\";\r\n\t\t\t\tlocalStorage.setItem('studentsListTab', JSON.stringify(studentsListTab));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(\"!!! Problème avec la récupération du type de financement (financementType) !!!\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction leftFillNum(num, targetLength) {\r\n  return num.toString().padStart(targetLength, '0');\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// PAGES ROUTING\r\n\r\nconst currentURL = window.location.href;\r\nif (currentURL == \"https://openclassrooms.com/fr/mentorship/dashboard/students\")\r\n\tobserverStudentsTableLoadingOfStudentsPage();\r\nelse\r\n\tobserverStudentsElementLoadingOfStudentDatailsPage();","libs":[],"name":"","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}}]}